"use strict";(self.webpackChunkphysical_ai_robotics_textbook=self.webpackChunkphysical_ai_robotics_textbook||[]).push([[5396],{3823:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"chapter-1-ros2-fundamentals/nodes-communication","title":"Nodes and Communication Patterns","description":"Introduction","source":"@site/docs/01-chapter-1-ros2-fundamentals/03-nodes-communication.md","sourceDirName":"01-chapter-1-ros2-fundamentals","slug":"/chapter-1-ros2-fundamentals/nodes-communication","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/nodes-communication","draft":false,"unlisted":false,"editUrl":"https://github.com/devhammad0/physical-ai-robotics-textbook/tree/main/docs/01-chapter-1-ros2-fundamentals/03-nodes-communication.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Nodes and Communication Patterns","chapter":1,"lesson":3,"duration_minutes":60,"simulation_required":["turtlesim"],"safety_level":"simulation_only","cefr_level":"A2","hardware_prerequisites":[],"learning_objectives":["Explain the node lifecycle and how nodes initialize, run, and shut down","Distinguish between publish-subscribe (asynchronous) and service (synchronous) patterns","Use ROS 2 CLI tools to inspect running nodes and topics","Understand message types and how they enforce type safety","Apply ROS 2 naming conventions (nodes, topics, services)"],"primary_layer":"Layer 1 (Manual Foundation) + Layer 2 (AI Collaboration Hints)"},"sidebar":"tutorialSidebar","previous":{"title":"Setting Up Your ROS 2 Environment","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/setup"},"next":{"title":"Your First ROS 2 Publisher","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/publisher"}}');var i=s(6070),t=s(8439);const o={title:"Nodes and Communication Patterns",chapter:1,lesson:3,duration_minutes:60,simulation_required:["turtlesim"],safety_level:"simulation_only",cefr_level:"A2",hardware_prerequisites:[],learning_objectives:["Explain the node lifecycle and how nodes initialize, run, and shut down","Distinguish between publish-subscribe (asynchronous) and service (synchronous) patterns","Use ROS 2 CLI tools to inspect running nodes and topics","Understand message types and how they enforce type safety","Apply ROS 2 naming conventions (nodes, topics, services)"],primary_layer:"Layer 1 (Manual Foundation) + Layer 2 (AI Collaboration Hints)"},c=void 0,l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Concept 1: Nodes and the Node Lifecycle",id:"concept-1-nodes-and-the-node-lifecycle",level:2},{value:"What is a Node?",id:"what-is-a-node",level:3},{value:"Node Lifecycle: Four Stages",id:"node-lifecycle-four-stages",level:3},{value:"Node Lifecycle Details",id:"node-lifecycle-details",level:3},{value:"Stage 1: Created",id:"stage-1-created",level:4},{value:"Stage 2: Initialized",id:"stage-2-initialized",level:4},{value:"Stage 3: Running",id:"stage-3-running",level:4},{value:"Stage 4: Shutting Down",id:"stage-4-shutting-down",level:4},{value:"Complete Node Lifecycle (Example)",id:"complete-node-lifecycle-example",level:3},{value:"Concept 2: Topics and Pub/Sub Communication",id:"concept-2-topics-and-pubsub-communication",level:2},{value:"What is a Topic?",id:"what-is-a-topic",level:3},{value:"Why Pub/Sub is Asynchronous",id:"why-pubsub-is-asynchronous",level:3},{value:"Topic Naming Conventions",id:"topic-naming-conventions",level:3},{value:"Concept 3: Services and Request-Response Communication",id:"concept-3-services-and-request-response-communication",level:2},{value:"What is a Service?",id:"what-is-a-service",level:3},{value:"Why Services Are Synchronous",id:"why-services-are-synchronous",level:3},{value:"Concept 4: Messages and Type Safety",id:"concept-4-messages-and-type-safety",level:2},{value:"What is a Message?",id:"what-is-a-message",level:3},{value:"Why Type Safety Matters",id:"why-type-safety-matters",level:3},{value:"Common Message Types in ROS 2",id:"common-message-types-in-ros-2",level:3},{value:"Concept 5: ROS 2 Naming Conventions",id:"concept-5-ros-2-naming-conventions",level:2},{value:"Node Names",id:"node-names",level:3},{value:"Topic Names",id:"topic-names",level:3},{value:"Service Names",id:"service-names",level:3},{value:"Comparing Pub/Sub vs. Services",id:"comparing-pubsub-vs-services",level:2},{value:"Decision Tree",id:"decision-tree",level:3},{value:"Observing ROS 2 Communication in Turtlesim",id:"observing-ros-2-communication-in-turtlesim",level:2},{value:"Setup: Launch Turtlesim Again",id:"setup-launch-turtlesim-again",level:3},{value:"Exploring Nodes with <code>ros2 node</code>",id:"exploring-nodes-with-ros2-node",level:3},{value:"Exploring Topics with <code>ros2 topic</code>",id:"exploring-topics-with-ros2-topic",level:3},{value:"Observing Message Data with <code>ros2 topic echo</code>",id:"observing-message-data-with-ros2-topic-echo",level:3},{value:"Measuring Topic Frequency with <code>ros2 topic hz</code>",id:"measuring-topic-frequency-with-ros2-topic-hz",level:3},{value:"Inspecting Message Types with <code>ros2 interface show</code>",id:"inspecting-message-types-with-ros2-interface-show",level:3},{value:"Concept 6: The Message Graph",id:"concept-6-the-message-graph",level:2},{value:"Concept 7: Parameter Servers and Dynamic Configuration",id:"concept-7-parameter-servers-and-dynamic-configuration",level:2},{value:"Self-Assessment Checklist",id:"self-assessment-checklist",level:2},{value:"Common Misconceptions Clarified",id:"common-misconceptions-clarified",level:2},{value:"Misconception 1: &quot;A topic is like a shared variable&quot;",id:"misconception-1-a-topic-is-like-a-shared-variable",level:3},{value:"Misconception 2: &quot;If I don&#39;t subscribe to a topic, it won&#39;t publish&quot;",id:"misconception-2-if-i-dont-subscribe-to-a-topic-it-wont-publish",level:3},{value:"Misconception 3: &quot;Services are better than pub/sub for everything&quot;",id:"misconception-3-services-are-better-than-pubsub-for-everything",level:3},{value:"Misconception 4: &quot;All nodes must have the same ROS_DOMAIN_ID&quot;",id:"misconception-4-all-nodes-must-have-the-same-ros_domain_id",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;ros2 topic echo&quot; shows no messages",id:"ros2-topic-echo-shows-no-messages",level:3},{value:"&quot;Connection refused&quot; when using ros2 commands",id:"connection-refused-when-using-ros2-commands",level:3},{value:"rqt_graph doesn&#39;t appear",id:"rqt_graph-doesnt-appear",level:3},{value:"Nodes in different domain IDs can&#39;t communicate",id:"nodes-in-different-domain-ids-cant-communicate",level:3},{value:"Further Exploration (Optional)",id:"further-exploration-optional",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Layer 2: AI Collaboration Prompts",id:"layer-2-ai-collaboration-prompts",level:2},{value:"For Understanding Node Lifecycle",id:"for-understanding-node-lifecycle",level:3},{value:"For Understanding Communication Patterns",id:"for-understanding-communication-patterns",level:3},{value:"For Understanding Type Safety",id:"for-understanding-type-safety",level:3},{value:"Concept Count &amp; CEFR Validation",id:"concept-count--cefr-validation",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["Now that your ROS 2 environment is working, it's time to understand the architecture that makes robotics possible. This lesson explores the fundamental building blocks: ",(0,i.jsx)(n.strong,{children:"nodes"}),", ",(0,i.jsx)(n.strong,{children:"topics"}),", ",(0,i.jsx)(n.strong,{children:"messages"}),", and ",(0,i.jsx)(n.strong,{children:"communication patterns"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"By the end of this lesson, you'll understand:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"How nodes are independent processes that communicate through topics"}),"\n",(0,i.jsx)(n.li,{children:"Why asynchronous (pub/sub) and synchronous (services) patterns exist"}),"\n",(0,i.jsx)(n.li,{children:"How to inspect a running ROS 2 system using CLI tools"}),"\n",(0,i.jsx)(n.li,{children:"The relationship between message types, topics, and strong typing"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Simulation environment"}),": Turtlesim (we'll use it to observe real communication)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-1-nodes-and-the-node-lifecycle",children:"Concept 1: Nodes and the Node Lifecycle"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-node",children:"What is a Node?"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"node"})," is an independent, executable process that:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Runs continuously (until stopped)"}),"\n",(0,i.jsx)(n.li,{children:"Performs one specific responsibility"}),"\n",(0,i.jsx)(n.li,{children:"Communicates with other nodes through topics and services"}),"\n",(0,i.jsx)(n.li,{children:"Can fail without crashing other nodes (fault isolation)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Real-world analogy"}),": A node is like an employee in a company. An HR employee processes payroll, the marketing employee creates ads, and the sales employee closes deals. They communicate through emails (topics) and meetings (services), but each job is independent."]}),"\n",(0,i.jsx)(n.h3,{id:"node-lifecycle-four-stages",children:"Node Lifecycle: Four Stages"}),"\n",(0,i.jsx)(n.p,{children:"Every ROS 2 node goes through four stages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Created    \u2502  Node object instantiated in memory\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2193\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Initialized  \u2502  rclpy.init() called, connects to ROS 2 network\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2193\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Running    \u2502  rclpy.spin() called, processes messages & timers\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502\r\n       \u2193\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  Shutting    \u2502  rclpy.shutdown() called, cleanup and exit\r\n\u2502   Down       \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"node-lifecycle-details",children:"Node Lifecycle Details"}),"\n",(0,i.jsx)(n.h4,{id:"stage-1-created",children:"Stage 1: Created"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.node import Node\r\n\r\nnode = Node('my_node')  # Node object created, but not active\n"})}),"\n",(0,i.jsx)(n.p,{children:"The node object exists in memory but doesn't connect to ROS 2 yet."}),"\n",(0,i.jsx)(n.h4,{id:"stage-2-initialized",children:"Stage 2: Initialized"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\n\r\nrclpy.init()  # Connects to ROS 2 network, becomes discoverable\r\nnode = Node('my_node')\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After ",(0,i.jsx)(n.code,{children:"rclpy.init()"}),", the node registers with ROS 2, and other nodes can see it."]}),"\n",(0,i.jsx)(n.h4,{id:"stage-3-running",children:"Stage 3: Running"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"rclpy.spin(node)  # Processes messages, timers, and callbacks\n"})}),"\n",(0,i.jsx)(n.p,{children:"The node now:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Listens for incoming messages on subscribed topics"}),"\n",(0,i.jsx)(n.li,{children:"Calls timer callbacks (periodic tasks)"}),"\n",(0,i.jsx)(n.li,{children:"Handles service requests"}),"\n",(0,i.jsx)(n.li,{children:"Blocks until interrupted (Ctrl+C)"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"stage-4-shutting-down",children:"Stage 4: Shutting Down"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"rclpy.shutdown()  # Cleanup and exit\n"})}),"\n",(0,i.jsx)(n.p,{children:"The node:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Closes all publishers and subscribers"}),"\n",(0,i.jsx)(n.li,{children:"Deregisters from ROS 2 network"}),"\n",(0,i.jsx)(n.li,{children:"Releases file handles and memory"}),"\n",(0,i.jsx)(n.li,{children:"Exits gracefully"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"complete-node-lifecycle-example",children:"Complete Node Lifecycle (Example)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\n\r\n# Stage 1: Created\r\nclass MyNode(rclpy.node.Node):\r\n    def __init__(self):\r\n        super().__init__('my_node')\r\n\r\n# Stage 2: Initialized\r\nrclpy.init()\r\nnode = MyNode()\r\n\r\n# Stage 3: Running\r\nrclpy.spin(node)\r\n\r\n# Stage 4: Shutting Down (automatic after Ctrl+C)\r\nrclpy.shutdown()\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-2-topics-and-pubsub-communication",children:"Concept 2: Topics and Pub/Sub Communication"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-topic",children:"What is a Topic?"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"topic"})," is a named communication channel (like a radio station):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One or more publishers write messages to it"}),"\n",(0,i.jsx)(n.li,{children:"One or more subscribers read messages from it"}),"\n",(0,i.jsxs)(n.li,{children:["Publishers and subscribers are ",(0,i.jsx)(n.strong,{children:"decoupled"})," (don't know about each other)"]}),"\n",(0,i.jsxs)(n.li,{children:["Communication is ",(0,i.jsx)(n.strong,{children:"asynchronous"})," (non-blocking)"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Publisher 1 \u2500\u2500\u2510\r\n              \u251c\u2500\u2500\u2192 Topic: /sensor/data \u2500\u2500\u2192 Subscriber 1\r\nPublisher 2 \u2500\u2500\u2518                        \u2500\u2500\u2192 Subscriber 2\r\n                                       \u2500\u2500\u2192 Subscriber 3\n"})}),"\n",(0,i.jsx)(n.h3,{id:"why-pubsub-is-asynchronous",children:"Why Pub/Sub is Asynchronous"}),"\n",(0,i.jsx)(n.p,{children:"When a publisher sends a message, it doesn't wait for subscribers to receive it. It just publishes and continues executing."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Time \u2192\r\n\r\nPublisher:  publish()  publish()  publish()  publish()  (continues immediately)\r\n              \u2193          \u2193          \u2193          \u2193\r\nSubscriber A: [receives] [receives] (busy)    (receives)\r\nSubscriber B:            [receives] [receives] [receives]\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Benefit"}),": If Subscriber A is temporarily busy, it doesn't block the publisher or Subscriber B."]}),"\n",(0,i.jsx)(n.h3,{id:"topic-naming-conventions",children:"Topic Naming Conventions"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 uses hierarchical, descriptive topic names:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/robot_name/subsystem/sensor_type/data_type\r\n\r\n/turtlebot4/camera/rgb/image_raw       # Robot camera\r\n/turtlebot4/lidar/scan                 # 2D laser scanner\r\n/turtlebot4/imu/data                   # Inertial measurement unit\r\n/turtlebot4/motor/joint_state           # Joint angles\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Rules"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Start with ",(0,i.jsx)(n.code,{children:"/"})," (absolute topic names)"]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"snake_case"})," for multi-word names"]}),"\n",(0,i.jsx)(n.li,{children:"Be hierarchical and descriptive"}),"\n",(0,i.jsx)(n.li,{children:"Avoid single-letter names"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-3-services-and-request-response-communication",children:"Concept 3: Services and Request-Response Communication"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-service",children:"What is a Service?"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"service"})," is a synchronous remote procedure call (RPC):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A client sends a request"}),"\n",(0,i.jsx)(n.li,{children:"A server processes it and sends a response"}),"\n",(0,i.jsxs)(n.li,{children:["The client ",(0,i.jsx)(n.strong,{children:"waits"})," for the response (blocking)"]}),"\n",(0,i.jsx)(n.li,{children:"One-to-one communication"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Client: "Please set color to red"\r\n  \u2193\r\nServer: [processes request]\r\n  \u2193\r\nServer: "Color set successfully"\r\n  \u2193\r\nClient: [continues execution]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"why-services-are-synchronous",children:"Why Services Are Synchronous"}),"\n",(0,i.jsx)(n.p,{children:"Unlike pub/sub, services use a request-response pattern:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Time \u2192\r\n\r\nClient:  call_service() [blocks here]                  [continues]\r\n           \u2193\r\nServer:             [receives request]  [processes]  [sends response]\r\n                                                        \u2193\n"})}),"\n",(0,i.jsx)(n.p,{children:"The client waits; the server responds. This is useful for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Commands that require confirmation ("Did the LED turn on?")'}),"\n",(0,i.jsx)(n.li,{children:'Queries that need a specific answer ("What\'s the current joint angle?")'}),"\n",(0,i.jsx)(n.li,{children:'Configuration changes ("Set maximum speed to 2 m/s")'}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-4-messages-and-type-safety",children:"Concept 4: Messages and Type Safety"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-message",children:"What is a Message?"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"message"})," is a data structure with strongly-typed fields:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"message Twist:\r\n  geometry:\r\n    Vector3 linear:\r\n      float64 x      # m/s\r\n      float64 y      # m/s\r\n      float64 z      # m/s\r\n    Vector3 angular:\r\n      float64 x      # rad/s\r\n      float64 y      # rad/s\r\n      float64 z      # rad/s\n"})}),"\n",(0,i.jsx)(n.h3,{id:"why-type-safety-matters",children:"Why Type Safety Matters"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 enforces type compatibility:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Publisher publishes: geometry_msgs/Twist\r\nSubscriber expects: geometry_msgs/Twist\r\nResult: \u2713 Connection succeeds, subscriber receives data\r\n\r\nPublisher publishes: geometry_msgs/Twist\r\nSubscriber expects: sensor_msgs/Image\r\nResult: \u2717 ROS 2 rejects connection (type mismatch)\n"})}),"\n",(0,i.jsx)(n.p,{children:"This prevents subtle bugs where a subscriber mistakenly interprets velocity data as an image."}),"\n",(0,i.jsx)(n.h3,{id:"common-message-types-in-ros-2",children:"Common Message Types in ROS 2"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Message"}),(0,i.jsx)(n.th,{children:"Fields"}),(0,i.jsx)(n.th,{children:"Use Case"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std_msgs/Float64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"data: float"})}),(0,i.jsx)(n.td,{children:"Single numeric value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"std_msgs/String"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"data: string"})}),(0,i.jsx)(n.td,{children:"Text messages"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"geometry_msgs/Twist"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"linear: Vector3"}),", ",(0,i.jsx)(n.code,{children:"angular: Vector3"})]}),(0,i.jsx)(n.td,{children:"Velocity commands (Lesson 4)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"geometry_msgs/Pose"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"position: Point"}),", ",(0,i.jsx)(n.code,{children:"orientation: Quaternion"})]}),(0,i.jsx)(n.td,{children:"Robot position and orientation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sensor_msgs/Image"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"height"}),", ",(0,i.jsx)(n.code,{children:"width"}),", ",(0,i.jsx)(n.code,{children:"encoding"}),", ",(0,i.jsx)(n.code,{children:"data"})]}),(0,i.jsx)(n.td,{children:"Camera image (Chapter 2)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"sensor_msgs/LaserScan"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"angle_min"}),", ",(0,i.jsx)(n.code,{children:"angle_max"}),", ",(0,i.jsx)(n.code,{children:"ranges"})]}),(0,i.jsx)(n.td,{children:"2D lidar data (Chapter 2)"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-5-ros-2-naming-conventions",children:"Concept 5: ROS 2 Naming Conventions"}),"\n",(0,i.jsx)(n.h3,{id:"node-names",children:"Node Names"}),"\n",(0,i.jsx)(n.p,{children:"Node names identify unique processes. Follow these rules:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"valid_node_name       \u2713 Good (lowercase, underscores)\r\ncamera_driver_v2      \u2713 Good (descriptive)\r\nCameraDriver          \u2717 Bad (use snake_case, not camelCase)\r\ncamera_driver_v2!     \u2717 Bad (no special characters)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Convention"}),": ",(0,i.jsx)(n.code,{children:"<subsystem>_<function>_<version>"})," or ",(0,i.jsx)(n.code,{children:"<subsystem>_<function>"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"camera_driver          # Reads from camera\r\nmotion_planner         # Plans trajectories\r\nmotor_controller       # Commands motors\r\nodom_publisher         # Publishes odometry\n"})}),"\n",(0,i.jsx)(n.h3,{id:"topic-names",children:"Topic Names"}),"\n",(0,i.jsx)(n.p,{children:"Topics follow a hierarchical namespace:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/robot_name/subsystem/sensor/data_type\r\n\r\n/turtlebot/camera/rgb/image_raw          \u2713 Good (hierarchical)\r\n/turtlebot/motor/left_wheel/angular_pos  \u2713 Good (specific joint)\r\n/image_raw                                \u2717 Bad (not hierarchical)\r\n/camera.image                             \u2717 Bad (use /, not dots)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Benefits of hierarchies"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Easy to group related topics: ",(0,i.jsx)(n.code,{children:"ros2 topic list | grep /turtlebot/camera"})]}),"\n",(0,i.jsx)(n.li,{children:"Clear ownership: Which subsystem owns this topic?"}),"\n",(0,i.jsxs)(n.li,{children:["Namespacing: Run multiple robots (",(0,i.jsx)(n.code,{children:"/robot1/*"}),", ",(0,i.jsx)(n.code,{children:"/robot2/*"}),") without conflicts"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"service-names",children:"Service Names"}),"\n",(0,i.jsx)(n.p,{children:"Services follow a similar convention:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/robot/subsystem/service_name\r\n\r\n/turtlebot/camera/set_resolution         \u2713 Good\r\n/turtlebot/motor/emergency_stop          \u2713 Good\r\n/set_color                                \u2717 Bad (not namespaced)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"comparing-pubsub-vs-services",children:"Comparing Pub/Sub vs. Services"}),"\n",(0,i.jsx)(n.p,{children:"When should you use each pattern?"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Criterion"}),(0,i.jsx)(n.th,{children:"Pub/Sub"}),(0,i.jsx)(n.th,{children:"Service"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Timing"})}),(0,i.jsx)(n.td,{children:"Asynchronous (fire and forget)"}),(0,i.jsx)(n.td,{children:"Synchronous (wait for response)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Flow"})}),(0,i.jsx)(n.td,{children:"One-way (publisher \u2192 subscribers)"}),(0,i.jsx)(n.td,{children:"Two-way (client \u2194 server)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Participants"})}),(0,i.jsx)(n.td,{children:"Many-to-many"}),(0,i.jsx)(n.td,{children:"One-to-one"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Blocking"})}),(0,i.jsx)(n.td,{children:"Non-blocking"}),(0,i.jsx)(n.td,{children:"Blocking (client waits)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Use Case"})}),(0,i.jsx)(n.td,{children:"Streaming data (sensors)"}),(0,i.jsx)(n.td,{children:"Commands needing confirmation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Example"})}),(0,i.jsx)(n.td,{children:"Image stream, velocity"}),(0,i.jsx)(n.td,{children:"Set LED color, query joint angle"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Latency"})}),(0,i.jsx)(n.td,{children:"Higher (data may queue)"}),(0,i.jsx)(n.td,{children:"Lower (immediate response)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"decision-tree",children:"Decision Tree"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Does the sender need a response?\r\n  \u251c\u2500 Yes \u2192 Use Service\r\n  \u2502   \u2514\u2500 Example: "Is the gripper open?"\r\n  \u2502\r\n  \u2514\u2500 No \u2192 Use Pub/Sub\r\n      \u251c\u2500 Streaming data? \u2192 Pub/Sub\r\n      \u2502   \u2514\u2500 Example: Camera images, sensor readings\r\n      \u2502\r\n      \u2514\u2500 Periodic command? \u2192 Could be either\r\n          \u251c\u2500 If stateful (e.g., "turn on") \u2192 Service\r\n          \u2514\u2500 If continuous (e.g., velocity) \u2192 Pub/Sub\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"observing-ros-2-communication-in-turtlesim",children:"Observing ROS 2 Communication in Turtlesim"}),"\n",(0,i.jsx)(n.p,{children:"Let's use ROS 2 CLI tools to observe real communication in the running Turtlesim system."}),"\n",(0,i.jsx)(n.h3,{id:"setup-launch-turtlesim-again",children:"Setup: Launch Turtlesim Again"}),"\n",(0,i.jsx)(n.p,{children:"If Turtlesim isn't running, open three terminals:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 1"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run turtlesim turtlesim_node\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 2"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run turtlesim turtle_teleop_key\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 3"})," (for our experiments):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# We'll run commands here\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"exploring-nodes-with-ros2-node",children:["Exploring Nodes with ",(0,i.jsx)(n.code,{children:"ros2 node"})]}),"\n",(0,i.jsx)(n.p,{children:"List all nodes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 node list\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/turtlesim\r\n/teleop_turtle\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get info about a specific node:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 node info /turtlesim\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/turtlesim\r\n  Subscribers:\r\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\r\n    /turtle1/cmd_vel: geometry_msgs/msg/Twist\r\n  Publishers:\r\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\r\n    /rosout: rcl_interfaces/msg/Log\r\n    /turtle1/color_sensor: std_msgs/msg/ColorRGBA\r\n    /turtle1/pose: turtlesim/msg/Pose\r\n  Service Servers:\r\n    /turtlesim/describe_parameters: rcl_interfaces/srv/DescribeParameters\r\n    /turtlesim/get_parameter: rcl_interfaces/srv/GetParameter\r\n    /turtlesim/set_parameter: rcl_interfaces/srv/SetParameter\r\n    /turtle1/set_pen: turtlesim/srv/SetPen\r\n    /turtle1/teleport_absolute: turtlesim/srv/TeleportAbsolute\r\n    /turtle1/teleport_relative: turtlesim/srv/TeleportRelative\r\n  Service Clients:\r\n    /turtle1/set_pen: turtlesim/srv/SetPen\r\n  Action Servers:\r\n    /turtle1/rotate_absolute: turtlesim/action/RotateAbsolute\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Interpretation"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/turtlesim"})," subscribes to ",(0,i.jsx)(n.code,{children:"/turtle1/cmd_vel"})," (movement commands from teleop)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/turtlesim"})," publishes ",(0,i.jsx)(n.code,{children:"/turtle1/pose"})," (turtle's current position) and ",(0,i.jsx)(n.code,{children:"/turtle1/color_sensor"})," (color under turtle)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"/turtlesim"})," offers services like ",(0,i.jsx)(n.code,{children:"/turtle1/set_pen"})," (change pen color/width)"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"exploring-topics-with-ros2-topic",children:["Exploring Topics with ",(0,i.jsx)(n.code,{children:"ros2 topic"})]}),"\n",(0,i.jsx)(n.p,{children:"List all active topics:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 topic list\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/parameter_events\r\n/rosout\r\n/turtle1/cmd_vel\r\n/turtle1/color_sensor\r\n/turtle1/pose\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get info about a topic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 topic info /turtle1/cmd_vel\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Type: geometry_msgs/msg/Twist\r\nPublisher count: 1\r\nSubscription count: 1\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": One publisher (",(0,i.jsx)(n.code,{children:"teleop_turtle"}),") sends velocity commands, and one subscriber (",(0,i.jsx)(n.code,{children:"turtlesim"}),") receives them."]}),"\n",(0,i.jsxs)(n.h3,{id:"observing-message-data-with-ros2-topic-echo",children:["Observing Message Data with ",(0,i.jsx)(n.code,{children:"ros2 topic echo"})]}),"\n",(0,i.jsx)(n.p,{children:"Watch velocity commands as you control the turtle:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Terminal 3"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /turtle1/cmd_vel\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Then in Terminal 2"}),", press 'w' to move forward."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output in Terminal 3"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"linear:\r\n  x: 2.0\r\n  y: 0.0\r\n  z: 0.0\r\nangular:\r\n  x: 0.0\r\n  y: 0.0\r\n  z: 0.0\r\n---\r\nlinear:\r\n  x: 2.0\r\n  y: 0.0\r\n  z: 0.0\r\nangular:\r\n  x: 0.0\r\n  y: 0.0\r\n  z: 0.0\r\n---\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Each ",(0,i.jsx)(n.code,{children:"---"})," separator marks a new message. You see repeated messages because the teleop node publishes at a fixed rate (~10 Hz) while a key is held down."]}),"\n",(0,i.jsxs)(n.h3,{id:"measuring-topic-frequency-with-ros2-topic-hz",children:["Measuring Topic Frequency with ",(0,i.jsx)(n.code,{children:"ros2 topic hz"})]}),"\n",(0,i.jsx)(n.p,{children:"How often are messages published?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 topic hz /turtle1/cmd_vel\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"})," (while holding 'w'):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"average rate: 10.01\r\n  min: 90.088ms  max: 110.234ms  std dev: 8.343ms  window: 10\n"})}),"\n",(0,i.jsx)(n.p,{children:"The teleop node publishes ~10 times per second (10 Hz or 100ms between messages)."}),"\n",(0,i.jsxs)(n.h3,{id:"inspecting-message-types-with-ros2-interface-show",children:["Inspecting Message Types with ",(0,i.jsx)(n.code,{children:"ros2 interface show"})]}),"\n",(0,i.jsx)(n.p,{children:"What are the exact fields in a Twist message?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 interface show geometry_msgs/msg/Twist\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"geometry_msgs/Vector3 linear\r\n\tfloat64 x\r\n\tfloat64 y\r\n\tfloat64 z\r\ngeometry_msgs/Vector3 angular\r\n\tfloat64 x\r\n\tfloat64 y\r\n\tfloat64 z\n"})}),"\n",(0,i.jsx)(n.p,{children:"This defines the structure that every Twist message must follow."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-6-the-message-graph",children:"Concept 6: The Message Graph"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"message graph"})," visualizes all nodes and topics in a system. ROS 2 includes a tool for this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run rqt_graph rqt_graph\n"})}),"\n",(0,i.jsx)(n.p,{children:"A window appears showing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[teleop_turtle] \u2500\u2500/turtle1/cmd_vel\u2500\u2500\u2192 [turtlesim]\r\n                                           \u2193\r\n                                    /turtle1/pose\r\n                                           \u2193\r\n                                    (subscribers)\n"})}),"\n",(0,i.jsx)(n.p,{children:"This graph shows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes"})," as boxes (",(0,i.jsx)(n.code,{children:"teleop_turtle"}),", ",(0,i.jsx)(n.code,{children:"turtlesim"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topics"})," as labeled arrows (",(0,i.jsx)(n.code,{children:"/turtle1/cmd_vel"}),", ",(0,i.jsx)(n.code,{children:"/turtle1/pose"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Direction"})," of data flow (\u2192 means publisher to subscriber)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This visual representation is invaluable for understanding complex robot systems."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-7-parameter-servers-and-dynamic-configuration",children:"Concept 7: Parameter Servers and Dynamic Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 includes a ",(0,i.jsx)(n.strong,{children:"parameter server"})," for runtime configuration:"]}),"\n",(0,i.jsx)(n.p,{children:"List all parameters:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 param list\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/turtlesim:\r\n  background_b\r\n  background_g\r\n  background_r\r\n  use_sim_time\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get a parameter value:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 param get /turtlesim background_b\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Integer value is: 255\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set a parameter:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 param set /turtlesim background_b 100\n"})}),"\n",(0,i.jsx)(n.p,{children:"The background color should change in the Turtlesim window!"}),"\n",(0,i.jsx)(n.p,{children:"Parameters allow runtime configuration without recompiling code. In Lesson 4, you'll learn to create your own parameters."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"self-assessment-checklist",children:"Self-Assessment Checklist"}),"\n",(0,i.jsx)(n.p,{children:"Before moving to Lesson 4, verify:"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand the four stages of node lifecycle (created, initialized, running, shutdown)"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can explain why pub/sub is asynchronous and services are synchronous"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can use ",(0,i.jsx)(n.code,{children:"ros2 node list"})," and ",(0,i.jsx)(n.code,{children:"ros2 node info"})," to inspect running nodes"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can use ",(0,i.jsx)(n.code,{children:"ros2 topic list"})," and ",(0,i.jsx)(n.code,{children:"ros2 topic echo"})," to observe message data"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand that topics enforce message type safety"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can apply ROS 2 naming conventions (nodes, topics, services)"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I recognize common message types (Twist, Pose, Image)"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can explain when to use pub/sub vs. services"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand that ROS 2 systems are loosely coupled (nodes don't know about each other)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If any checks failed, re-read the corresponding concept section."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"common-misconceptions-clarified",children:"Common Misconceptions Clarified"}),"\n",(0,i.jsx)(n.h3,{id:"misconception-1-a-topic-is-like-a-shared-variable",children:'Misconception 1: "A topic is like a shared variable"'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wrong"}),": Topics are not variables; they're communication channels. A topic doesn't \"store\" the latest message; it delivers messages to subscribers."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Correct"}),": Topics are like a news broadcast. The latest news is gone after it airs; it doesn't persist. (Technically, ROS 2 can buffer recent messages with QoS settings, but this is advanced.)"]}),"\n",(0,i.jsx)(n.h3,{id:"misconception-2-if-i-dont-subscribe-to-a-topic-it-wont-publish",children:"Misconception 2: \"If I don't subscribe to a topic, it won't publish\""}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wrong"}),": Publishers send messages regardless of subscribers. If no one is listening, messages are just discarded."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Correct"}),": Like a radio station\u2014it broadcasts whether anyone is listening or not."]}),"\n",(0,i.jsx)(n.h3,{id:"misconception-3-services-are-better-than-pubsub-for-everything",children:'Misconception 3: "Services are better than pub/sub for everything"'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wrong"}),": Services block the client, which is inefficient for streaming data. If you use services for camera images at 30 Hz, clients will be constantly blocked."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Correct"}),": Use services only when you need a response. Use pub/sub for continuous data."]}),"\n",(0,i.jsx)(n.h3,{id:"misconception-4-all-nodes-must-have-the-same-ros_domain_id",children:'Misconception 4: "All nodes must have the same ROS_DOMAIN_ID"'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wrong"}),": Nodes with different domain IDs (e.g., 0 and 1) are completely isolated. They won't communicate."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Correct"}),": Nodes with the ",(0,i.jsx)(n.strong,{children:"same"})," domain ID communicate. Different domain IDs let you run multiple independent ROS 2 systems on the same network."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"ros2-topic-echo-shows-no-messages",children:'"ros2 topic echo" shows no messages'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Topic exists but no one is publishing to it."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"ros2 topic list"})," to see all topics"]}),"\n",(0,i.jsx)(n.li,{children:"Check which node should be publishing"}),"\n",(0,i.jsxs)(n.li,{children:["Verify that node is running: ",(0,i.jsx)(n.code,{children:"ros2 node list"})]}),"\n",(0,i.jsxs)(n.li,{children:["Check if the publisher is active with ",(0,i.jsx)(n.code,{children:"ros2 topic info /topic_name"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"connection-refused-when-using-ros2-commands",children:'"Connection refused" when using ros2 commands'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": ROS 2 daemon not running or environment not sourced."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\r\nros2 daemon stop\r\nros2 daemon start\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rqt_graph-doesnt-appear",children:"rqt_graph doesn't appear"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": rqt not installed."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install -y ros-humble-rqt ros-humble-rqt-graph\n"})}),"\n",(0,i.jsx)(n.h3,{id:"nodes-in-different-domain-ids-cant-communicate",children:"Nodes in different domain IDs can't communicate"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause"}),": Domain IDs don't match."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verification"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"echo $ROS_DOMAIN_ID  # Check your domain ID\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution"}),": Set the same domain ID before running all nodes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export ROS_DOMAIN_ID=0\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"further-exploration-optional",children:"Further Exploration (Optional)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 Concepts"}),": ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts.html",children:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts.html"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Message Types Reference"}),": ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts/About-Builtin-Interfaces.html",children:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts/About-Builtin-Interfaces.html"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"rqt Tools Documentation"}),": ",(0,i.jsx)(n.a,{href:"https://wiki.ros.org/rqt",children:"https://wiki.ros.org/rqt"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Quality of Service (QoS)"}),": ",(0,i.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts/About-Quality-of-Service-Settings.html",children:"https://docs.ros.org/en/humble/Concepts/Intermediate-Concepts/About-Quality-of-Service-Settings.html"})," (advanced topic)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.strong,{children:"Lesson 4: Your First ROS 2 Publisher"}),", you'll:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a Python node from scratch"}),"\n",(0,i.jsx)(n.li,{children:"Implement a publisher that sends velocity commands"}),"\n",(0,i.jsx)(n.li,{children:"Observe the turtle move in response to your code"}),"\n",(0,i.jsx)(n.li,{children:"Debug using the CLI tools from this lesson"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Estimated time"}),": 60 minutes"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prerequisites for Lesson 4"}),": Understand nodes, topics, and pub/sub patterns from this lesson"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"layer-2-ai-collaboration-prompts",children:"Layer 2: AI Collaboration Prompts"}),"\n",(0,i.jsx)(n.h3,{id:"for-understanding-node-lifecycle",children:"For Understanding Node Lifecycle"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\"I learned about node initialization, running, and shutdown. Ask Claude: 'What happens if I call ",(0,i.jsx)(n.code,{children:"rclpy.spin()"})," before creating any publishers or subscribers? What's the point of spinning an empty node?'\""]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"for-understanding-communication-patterns",children:"For Understanding Communication Patterns"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\"I'm confused about when to use pub/sub vs. services. Ask Claude: 'Give me 5 real-world examples where pub/sub is better, and 5 where services are better. What's the key difference?'\""}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"for-understanding-type-safety",children:"For Understanding Type Safety"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\"Ask Claude: 'Why does ROS 2 enforce message types? What would happen if a publisher sent random data without a defined structure?'\""}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"concept-count--cefr-validation",children:"Concept Count & CEFR Validation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Total A2 Concepts Introduced"}),": 7"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Node definition and lifecycle (created, initialized, running, shutdown)"}),"\n",(0,i.jsx)(n.li,{children:"Publish-subscribe pattern (asynchronous, many-to-many)"}),"\n",(0,i.jsx)(n.li,{children:"Service pattern (synchronous, request-response)"}),"\n",(0,i.jsx)(n.li,{children:"Message types and strong typing"}),"\n",(0,i.jsx)(n.li,{children:"ROS 2 naming conventions (nodes, topics, services)"}),"\n",(0,i.jsx)(n.li,{children:"Topic hierarchies and namespacing"}),"\n",(0,i.jsx)(n.li,{children:"CLI tools for system inspection (ros2 node, ros2 topic, rqt_graph)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CEFR A2 Alignment"}),": \u2713 Foundational architectural concepts, clear definitions, concrete examples with Turtlesim"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Chapter 1, Lesson 3 Complete"})}),"\n",(0,i.jsx)(n.p,{children:"Next: Lesson 4 \u2014 Your First ROS 2 Publisher (60 min)"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8439:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var r=s(758);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);