"use strict";(self.webpackChunkphysical_ai_robotics_textbook=self.webpackChunkphysical_ai_robotics_textbook||[]).push([[7093],{2741:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"chapter-1-ros2-fundamentals/launch-files","title":"Building Multi-Node Systems & Launch Files","description":"Introduction","source":"@site/docs/01-chapter-1-ros2-fundamentals/07-launch-files.md","sourceDirName":"01-chapter-1-ros2-fundamentals","slug":"/chapter-1-ros2-fundamentals/launch-files","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/launch-files","draft":false,"unlisted":false,"editUrl":"https://github.com/devhammad0/physical-ai-robotics-textbook/tree/main/docs/01-chapter-1-ros2-fundamentals/07-launch-files.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Building Multi-Node Systems & Launch Files","chapter":1,"lesson":7,"duration_minutes":75,"simulation_required":["turtlesim"],"safety_level":"simulation_only","cefr_level":"B1","hardware_prerequisites":[],"learning_objectives":["Understand ROS 2 launch files and their purpose","Write launch files that start multiple nodes simultaneously","Pass parameters to nodes via launch files","Debug multi-node systems using ROS 2 tools","Design coordinated multi-node robotics architectures","Understand node lifecycle and startup ordering","Use rqt_graph to visualize system architecture"],"primary_layer":"Layer 1 (Manual Foundation) + Layer 2 (AI Collaboration)"},"sidebar":"tutorialSidebar","previous":{"title":"Services and Actions: Synchronous & Long-Running Communication","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/services-actions"},"next":{"title":"Chapter 1 Capstone Project: Autonomous Turtle Navigation System","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/capstone"}}');var t=r(6070),i=r(8439);const l={title:"Building Multi-Node Systems & Launch Files",chapter:1,lesson:7,duration_minutes:75,simulation_required:["turtlesim"],safety_level:"simulation_only",cefr_level:"B1",hardware_prerequisites:[],learning_objectives:["Understand ROS 2 launch files and their purpose","Write launch files that start multiple nodes simultaneously","Pass parameters to nodes via launch files","Debug multi-node systems using ROS 2 tools","Design coordinated multi-node robotics architectures","Understand node lifecycle and startup ordering","Use rqt_graph to visualize system architecture"],primary_layer:"Layer 1 (Manual Foundation) + Layer 2 (AI Collaboration)"},a=void 0,o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Concept 1: Why Launch Files?",id:"concept-1-why-launch-files",level:2},{value:"Without Launch Files",id:"without-launch-files",level:3},{value:"With Launch Files",id:"with-launch-files",level:3},{value:"Concept 2: Launch File Syntax (.launch.py)",id:"concept-2-launch-file-syntax-launchpy",level:2},{value:"Key Components",id:"key-components",level:3},{value:"Concept 3: Parameter Passing",id:"concept-3-parameter-passing",level:2},{value:"In Node Code",id:"in-node-code",level:3},{value:"In Launch File",id:"in-launch-file",level:3},{value:"Command-Line Override",id:"command-line-override",level:3},{value:"Code Example 1: Simple Launch File",id:"code-example-1-simple-launch-file",level:2},{value:"How to Use",id:"how-to-use",level:3},{value:"Expected Result",id:"expected-result",level:3},{value:"Code Example 2: Launch File with Parameters",id:"code-example-2-launch-file-with-parameters",level:2},{value:"How to Use",id:"how-to-use-1",level:3},{value:"Code Example 3: Multi-Node Turtle Control System",id:"code-example-3-multi-node-turtle-control-system",level:2},{value:"Code Example 4: Supervisor Node",id:"code-example-4-supervisor-node",level:2},{value:"Debugging Multi-Node Systems",id:"debugging-multi-node-systems",level:2},{value:"Visualization: rqt_graph",id:"visualization-rqt_graph",level:3},{value:"Viewing All Topics",id:"viewing-all-topics",level:3},{value:"Monitoring Topic Traffic",id:"monitoring-topic-traffic",level:3},{value:"Logging and Filtering",id:"logging-and-filtering",level:3},{value:"Troubleshooting Multi-Node Systems",id:"troubleshooting-multi-node-systems",level:2},{value:"Error: &quot;Package not found&quot;",id:"error-package-not-found",level:3},{value:"Error: &quot;Executable not found&quot;",id:"error-executable-not-found",level:3},{value:"Error: &quot;Node crashes on startup&quot;",id:"error-node-crashes-on-startup",level:3},{value:"Error: &quot;Nodes not communicating&quot;",id:"error-nodes-not-communicating",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Parameters for Configuration",id:"1-use-parameters-for-configuration",level:3},{value:"2. Output to Console",id:"2-output-to-console",level:3},{value:"3. Startup Order",id:"3-startup-order",level:3},{value:"4. Remapping Topics",id:"4-remapping-topics",level:3},{value:"Layer 2: AI Collaboration Prompts",id:"layer-2-ai-collaboration-prompts",level:2},{value:"Prompt 1: Launch File Scaling",id:"prompt-1-launch-file-scaling",level:3},{value:"Prompt 2: Namespace Management",id:"prompt-2-namespace-management",level:3},{value:"Prompt 3: Debugging Multi-Node Issues",id:"prompt-3-debugging-multi-node-issues",level:3},{value:"Self-Assessment Checklist",id:"self-assessment-checklist",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:["So far, you've written individual nodes (publishers, subscribers). Real robotics systems consist of ",(0,t.jsx)(n.strong,{children:"many coordinated nodes"})," working together:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Camera driver (publishes images)"}),"\n",(0,t.jsx)(n.li,{children:"Motion planner (subscribes to images, publishes trajectories)"}),"\n",(0,t.jsx)(n.li,{children:"Motor controller (subscribes to trajectories, publishes motor commands)"}),"\n",(0,t.jsx)(n.li,{children:"State manager (publishes system status)"}),"\n",(0,t.jsx)(n.li,{children:"Logging node (subscribes to everything, records data)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Starting these manually in separate terminals is tedious and error-prone. ",(0,t.jsx)(n.strong,{children:"Launch files"})," solve this: a single file that starts all nodes with proper configuration."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What you'll build"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A launch file that starts Turtlesim + multiple nodes"}),"\n",(0,t.jsx)(n.li,{children:"A 3-node system: velocity publisher, position tracker, supervisor"}),"\n",(0,t.jsx)(n.li,{children:"Integration testing of multi-node systems"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Simulation environment"}),": Turtlesim (from Lesson 2)"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Time estimate"}),": 75 minutes"]}),"\n",(0,t.jsx)(n.p,{children:"By the end, you'll understand:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ROS 2 launch file syntax (.launch.py)"}),"\n",(0,t.jsx)(n.li,{children:"Parameter passing and configuration"}),"\n",(0,t.jsx)(n.li,{children:"Multi-node debugging and visualization"}),"\n",(0,t.jsx)(n.li,{children:"Production-ready system orchestration"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"concept-1-why-launch-files",children:"Concept 1: Why Launch Files?"}),"\n",(0,t.jsx)(n.h3,{id:"without-launch-files",children:"Without Launch Files"}),"\n",(0,t.jsx)(n.p,{children:"Start 5 nodes manually:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Terminal 1\r\nros2 run turtlesim turtlesim_node\r\n\r\n# Terminal 2\r\npython3 publisher_node.py\r\n\r\n# Terminal 3\r\npython3 subscriber_node.py\r\n\r\n# Terminal 4\r\npython3 state_manager.py\r\n\r\n# Terminal 5\r\npython3 logger.py\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Problems"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Need 5 terminals open"}),"\n",(0,t.jsx)(n.li,{children:"Easy to forget one"}),"\n",(0,t.jsx)(n.li,{children:"Hard to restart (kill each manually)"}),"\n",(0,t.jsx)(n.li,{children:"No consistent configuration"}),"\n",(0,t.jsx)(n.li,{children:"Difficult for team collaboration"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"with-launch-files",children:"With Launch Files"}),"\n",(0,t.jsx)(n.p,{children:"One command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_package turtle_system.launch.py\n"})}),"\n",(0,t.jsx)(n.p,{children:"Starts all 5 nodes with proper configuration, dependencies, logging."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"concept-2-launch-file-syntax-launchpy",children:"Concept 2: Launch File Syntax (.launch.py)"}),"\n",(0,t.jsxs)(n.p,{children:["ROS 2 launch files are Python scripts that create a ",(0,t.jsx)(n.code,{children:"LaunchDescription"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    \"\"\"Generate ROS 2 launch configuration\"\"\"\r\n\r\n    # List of nodes to start\r\n    nodes = [\r\n        # Node 1: Turtlesim simulator\r\n        Node(\r\n            package='turtlesim',\r\n            executable='turtlesim_node',\r\n            name='sim'\r\n        ),\r\n\r\n        # Node 2: Publisher\r\n        Node(\r\n            package='my_package',\r\n            executable='publisher_node',\r\n            name='publisher',\r\n            parameters=[\r\n                {'speed': 1.0},\r\n                {'frequency': 10}\r\n            ]\r\n        ),\r\n\r\n        # Node 3: Subscriber\r\n        Node(\r\n            package='my_package',\r\n            executable='subscriber_node',\r\n            name='subscriber'\r\n        )\r\n    ]\r\n\r\n    return LaunchDescription(nodes)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node"}),": Represents a ROS 2 node to start"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"package"}),": ROS 2 package name (must be installed)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"executable"}),": Node script to run"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"name"}),": Node instance name (can run same executable multiple times)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"parameters"}),": Configuration passed to node"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"concept-3-parameter-passing",children:"Concept 3: Parameter Passing"}),"\n",(0,t.jsx)(n.p,{children:"Nodes accept parameters from launch files:"}),"\n",(0,t.jsx)(n.h3,{id:"in-node-code",children:"In Node Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class MyNode(Node):\r\n    def __init__(self):\r\n        super().__init__('my_node')\r\n\r\n        # Declare parameter with default value\r\n        self.declare_parameter('speed', 1.0)\r\n\r\n        # Get parameter\r\n        speed = self.get_parameter('speed').value\r\n\r\n        self.get_logger().info(f'Speed parameter: {speed}')\n"})}),"\n",(0,t.jsx)(n.h3,{id:"in-launch-file",children:"In Launch File"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"Node(\r\n    package='my_package',\r\n    executable='my_node',\r\n    name='my_node',\r\n    parameters=[\r\n        {'speed': 2.5},\r\n        {'frequency': 20}\r\n    ]\r\n)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"command-line-override",children:"Command-Line Override"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Override launch file parameter\r\nros2 launch my_package system.launch.py speed:=3.0\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"code-example-1-simple-launch-file",children:"Code Example 1: Simple Launch File"}),"\n",(0,t.jsxs)(n.p,{children:["Create: ",(0,t.jsx)(n.code,{children:"simple_turtle_launch.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"\"\"\"\r\nSimple Turtlesim Launch File\r\nStarts: Turtlesim + keyboard teleoperation node\r\nSimulation environment: Turtlesim\r\n\"\"\"\r\n\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\n\r\ndef generate_launch_description():\r\n    \"\"\"Create launch configuration\"\"\"\r\n\r\n    # Start Turtlesim simulator\r\n    turtlesim_node = Node(\r\n        package='turtlesim',\r\n        executable='turtlesim_node',\r\n        name='sim',\r\n        output='screen'  # Print logs to console\r\n    )\r\n\r\n    # Start keyboard teleoperation\r\n    teleop_node = Node(\r\n        package='turtlesim',\r\n        executable='turtle_teleop_key',\r\n        name='teleop',\r\n        output='screen'\r\n    )\r\n\r\n    # Combine nodes into launch description\r\n    return LaunchDescription([\r\n        turtlesim_node,\r\n        teleop_node\r\n    ])\n"})}),"\n",(0,t.jsx)(n.h3,{id:"how-to-use",children:"How to Use"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Place file in: ~/ros2_ws/src/my_package/launch/\r\n# Or run directly:\r\nros2 launch simple_turtle_launch.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"expected-result",children:"Expected Result"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Turtlesim window opens"}),"\n",(0,t.jsx)(n.li,{children:"Keyboard control active (press 'w', 'a', 's', 'd')"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"code-example-2-launch-file-with-parameters",children:"Code Example 2: Launch File with Parameters"}),"\n",(0,t.jsxs)(n.p,{children:["Create: ",(0,t.jsx)(n.code,{children:"configured_turtle_launch.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"\"\"\"\r\nConfigured Turtle Launch with Parameters\r\nStarts: Turtlesim + velocity publisher with configurable parameters\r\nSimulation environment: Turtlesim\r\n\"\"\"\r\n\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\n\r\ndef generate_launch_description():\r\n    \"\"\"Create launch configuration with parameters\"\"\"\r\n\r\n    # Declare launch arguments (parameters user can override)\r\n    speed_arg = DeclareLaunchArgument(\r\n        'speed',\r\n        default_value='1.0',\r\n        description='Forward velocity of turtle (m/s)'\r\n    )\r\n\r\n    frequency_arg = DeclareLaunchArgument(\r\n        'frequency',\r\n        default_value='10',\r\n        description='Publishing frequency (Hz)'\r\n    )\r\n\r\n    # Start Turtlesim\r\n    turtlesim_node = Node(\r\n        package='turtlesim',\r\n        executable='turtlesim_node',\r\n        name='sim',\r\n        output='screen'\r\n    )\r\n\r\n    # Start velocity publisher with parameters from launch arguments\r\n    publisher_node = Node(\r\n        package='my_first_package',\r\n        executable='publisher_node',\r\n        name='publisher',\r\n        output='screen',\r\n        parameters=[\r\n            {'speed': LaunchConfiguration('speed')},\r\n            {'frequency': LaunchConfiguration('frequency')}\r\n        ]\r\n    )\r\n\r\n    return LaunchDescription([\r\n        speed_arg,\r\n        frequency_arg,\r\n        turtlesim_node,\r\n        publisher_node\r\n    ])\n"})}),"\n",(0,t.jsx)(n.h3,{id:"how-to-use-1",children:"How to Use"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Use default parameters\r\nros2 launch configured_turtle_launch.py\r\n\r\n# Override parameters\r\nros2 launch configured_turtle_launch.py speed:=2.0 frequency:=20\r\n\r\n# See available parameters\r\nros2 launch configured_turtle_launch.py --show-args\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"code-example-3-multi-node-turtle-control-system",children:"Code Example 3: Multi-Node Turtle Control System"}),"\n",(0,t.jsx)(n.p,{children:"Let's create a complete 3-node system:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Supervisor Node"}),": Manages system state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Publisher Node"}),": Sends movement commands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Subscriber Node"}),": Tracks position"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Create: ",(0,t.jsx)(n.code,{children:"turtle_control_system.launch.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"\"\"\"\r\nComplete Turtle Control System Launch\r\nManages: Turtlesim + Supervisor + Publisher + Subscriber\r\nSimulation environment: Turtlesim\r\n\"\"\"\r\n\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, LogInfo\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\n\r\ndef generate_launch_description():\r\n    \"\"\"Multi-node turtle control system\"\"\"\r\n\r\n    # Arguments\r\n    mode_arg = DeclareLaunchArgument(\r\n        'mode',\r\n        default_value='auto',\r\n        description='Mode: auto (autonomous) or manual (keyboard)'\r\n    )\r\n\r\n    speed_arg = DeclareLaunchArgument(\r\n        'speed',\r\n        default_value='1.0',\r\n        description='Turtle velocity (m/s)'\r\n    )\r\n\r\n    # Turtlesim simulator\r\n    turtlesim = Node(\r\n        package='turtlesim',\r\n        executable='turtlesim_node',\r\n        name='sim',\r\n        output='screen'\r\n    )\r\n\r\n    # Supervisor node (manages state)\r\n    supervisor = Node(\r\n        package='my_first_package',\r\n        executable='supervisor_node',\r\n        name='supervisor',\r\n        output='screen',\r\n        parameters=[\r\n            {'mode': LaunchConfiguration('mode')}\r\n        ]\r\n    )\r\n\r\n    # Publisher node (sends velocity commands)\r\n    publisher = Node(\r\n        package='my_first_package',\r\n        executable='publisher_node',\r\n        name='publisher',\r\n        output='screen',\r\n        parameters=[\r\n            {'speed': LaunchConfiguration('speed')},\r\n            {'frequency': 10}\r\n        ]\r\n    )\r\n\r\n    # Subscriber node (tracks position)\r\n    subscriber = Node(\r\n        package='my_first_package',\r\n        executable='subscriber_node',\r\n        name='tracker',\r\n        output='screen'\r\n    )\r\n\r\n    # Print startup message\r\n    log_message = LogInfo(msg='Turtle control system started!')\r\n\r\n    return LaunchDescription([\r\n        mode_arg,\r\n        speed_arg,\r\n        log_message,\r\n        turtlesim,\r\n        supervisor,\r\n        publisher,\r\n        subscriber\r\n    ])\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"code-example-4-supervisor-node",children:"Code Example 4: Supervisor Node"}),"\n",(0,t.jsxs)(n.p,{children:["Create: ",(0,t.jsx)(n.code,{children:"supervisor_node.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'"""\r\nSupervisor Node - Manages system state\r\nSimulation environment: Turtlesim\r\n"""\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass SupervisorNode(Node):\r\n    """Manages overall system state and coordination"""\r\n\r\n    def __init__(self):\r\n        super().__init__(\'supervisor\')\r\n\r\n        # Declare mode parameter\r\n        self.declare_parameter(\'mode\', \'auto\')\r\n        mode = self.get_parameter(\'mode\').value\r\n\r\n        # Status publisher\r\n        self.status_pub = self.create_publisher(\r\n            String, \'/system/status\', 10)\r\n\r\n        # Timer to publish status\r\n        self.timer = self.create_timer(1.0, self.publish_status)\r\n\r\n        # State tracking\r\n        self.mode = mode\r\n        self.start_time = self.get_clock().now()\r\n        self.message_count = 0\r\n\r\n        self.get_logger().info(f\'Supervisor started in {mode} mode\')\r\n\r\n    def publish_status(self):\r\n        """Publish system status"""\r\n\r\n        elapsed = (self.get_clock().now() - self.start_time).nanoseconds / 1e9\r\n\r\n        msg = String()\r\n        msg.data = f\'Mode: {self.mode}, Uptime: {elapsed:.1f}s\'\r\n\r\n        self.status_pub.publish(msg)\r\n        self.message_count += 1\r\n\r\n        self.get_logger().info(msg.data)\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = SupervisorNode()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"debugging-multi-node-systems",children:"Debugging Multi-Node Systems"}),"\n",(0,t.jsx)(n.h3,{id:"visualization-rqt_graph",children:"Visualization: rqt_graph"}),"\n",(0,t.jsx)(n.p,{children:"Visualize the system architecture:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rqt_graph\n"})}),"\n",(0,t.jsx)(n.p,{children:"This shows:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All running nodes"}),"\n",(0,t.jsx)(n.li,{children:"All topics and connections"}),"\n",(0,t.jsx)(n.li,{children:"Message flow between nodes"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"viewing-all-topics",children:"Viewing All Topics"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 topic list\r\nros2 topic list -t  # Show message types\n"})}),"\n",(0,t.jsx)(n.h3,{id:"monitoring-topic-traffic",children:"Monitoring Topic Traffic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# See messages on a topic\r\nros2 topic echo /turtle1/pose\r\n\r\n# See message rate\r\nros2 topic hz /turtle1/pose\r\n\r\n# Get bandwidth\r\nros2 topic bw /turtle1/pose\n"})}),"\n",(0,t.jsx)(n.h3,{id:"logging-and-filtering",children:"Logging and Filtering"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Set log level to DEBUG\r\nexport RCL_LOG_LEVEL=DEBUG\r\nros2 launch turtle_control_system.launch.py\r\n\r\n# View only errors\r\nros2 topic echo /rosout --filter \"severity.label=='ERROR'\"\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting-multi-node-systems",children:"Troubleshooting Multi-Node Systems"}),"\n",(0,t.jsx)(n.h3,{id:"error-package-not-found",children:'Error: "Package not found"'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Node package not installed or not in ROS_PACKAGE_PATH"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Install package\r\nsudo apt install ros-humble-<package_name>\r\n\r\n# Or source your workspace\r\nsource ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,t.jsx)(n.h3,{id:"error-executable-not-found",children:'Error: "Executable not found"'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Wrong executable name in launch file"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check available executables in package\r\nros2 pkg executables turtlesim\r\n\r\n# Use correct name in launch file\n"})}),"\n",(0,t.jsx)(n.h3,{id:"error-node-crashes-on-startup",children:'Error: "Node crashes on startup"'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Missing dependencies or initialization error"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Run with direct Python debugging:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python3 -u ~/ros2_ws/src/my_package/my_package/node.py\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"This shows traceback"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Fix the error, test node independently"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Then use launch file again"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-nodes-not-communicating",children:'Error: "Nodes not communicating"'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Publisher sends, subscriber doesn't receive"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Diagnosis"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# 1. Check topic exists\r\nros2 topic list | grep <topic_name>\r\n\r\n# 2. Check topic has data\r\nros2 topic echo <topic_name>\r\n\r\n# 3. Check node names\r\nros2 node list\r\n\r\n# 4. Check connections\r\nrqt_graph\r\n\r\n# 5. Check ROS_DOMAIN_ID\r\necho $ROS_DOMAIN_ID  # Should be same for all nodes\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": Usually ROS_DOMAIN_ID mismatch"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"export ROS_DOMAIN_ID=0\r\nros2 launch turtle_control_system.launch.py\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-use-parameters-for-configuration",children:"1. Use Parameters for Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# GOOD: Configurable\r\nNode(\r\n    ...,\r\n    parameters=[{'speed': LaunchConfiguration('speed')}]\r\n)\r\n\r\n# BAD: Hardcoded\r\nNode(\r\n    ...,\r\n    parameters=[{'speed': 1.0}]\r\n)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-output-to-console",children:"2. Output to Console"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# GOOD: See all output\r\nNode(..., output='screen')\r\n\r\n# BAD: No output\r\nNode(...)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-startup-order",children:"3. Startup Order"}),"\n",(0,t.jsx)(n.p,{children:"Use launch actions to control order:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch.actions import RegisterEventHandler\r\nfrom launch_ros.event_handlers import OnProcessStart\r\n\r\n# Start B only after A starts\r\nregister_event = RegisterEventHandler(\r\n    event_handler=OnProcessStart(\r\n        target_action=node_a,\r\n        on_start=[node_b]\r\n    )\r\n)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-remapping-topics",children:"4. Remapping Topics"}),"\n",(0,t.jsx)(n.p,{children:"Change topic names in launch file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"Node(\r\n    ...,\r\n    remappings=[\r\n        ('/turtle1/cmd_vel', '/my_robot/cmd_vel'),\r\n        ('/turtle1/pose', '/my_robot/odometry')\r\n    ]\r\n)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"layer-2-ai-collaboration-prompts",children:"Layer 2: AI Collaboration Prompts"}),"\n",(0,t.jsx)(n.h3,{id:"prompt-1-launch-file-scaling",children:"Prompt 1: Launch File Scaling"}),"\n",(0,t.jsx)(n.p,{children:"\"Ask Claude: 'How would you modify a launch file to start 10 instances of the same node with different configurations?'\""}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What you're exploring"}),": Parameterized multi-node systems"]}),"\n",(0,t.jsx)(n.h3,{id:"prompt-2-namespace-management",children:"Prompt 2: Namespace Management"}),"\n",(0,t.jsx)(n.p,{children:"\"Ask Claude: 'What is a ROS 2 namespace? How does it help organize multi-robot systems?'\""}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What you're exploring"}),": System architecture at scale"]}),"\n",(0,t.jsx)(n.h3,{id:"prompt-3-debugging-multi-node-issues",children:"Prompt 3: Debugging Multi-Node Issues"}),"\n",(0,t.jsx)(n.p,{children:"\"Ask Claude: 'When two nodes claim to publish the same topic, what happens? How do you debug this with ROS 2 tools?'\""}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"What you're exploring"}),": Namespace conflicts and debugging"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"self-assessment-checklist",children:"Self-Assessment Checklist"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand the purpose of launch files"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can write a launch file that starts multiple nodes"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can pass parameters to nodes via launch files"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can visualize system architecture with rqt_graph"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can debug communication issues between nodes"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I understand startup ordering and dependencies"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can modify topic names with remapping"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I can read and understand ROS 2 launch file syntax"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"You've completed Lessons 1-7!"})," You have all the foundational knowledge for ROS 2 robotics."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Next"}),": The ",(0,t.jsx)(n.strong,{children:"Capstone Project"})," combines everything into a complete 3-node robotics system."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Optional Challenge"}),": Extend the turtle control system:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'Add a fourth node: "Boundary Guardian" that prevents turtle from leaving the 0-11 area'}),"\n",(0,t.jsx)(n.li,{children:"Stop the turtle if it gets close to boundaries"}),"\n",(0,t.jsxs)(n.li,{children:["Publish warnings to ",(0,t.jsx)(n.code,{children:"/system/warnings"})," topic"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"End of Lesson 7: Multi-Node Systems & Launch Files"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8439:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>a});var s=r(758);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);