"use strict";(self.webpackChunkphysical_ai_robotics_textbook=self.webpackChunkphysical_ai_robotics_textbook||[]).push([[723],{4373:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"chapter-1-ros2-fundamentals/what-is-ros2","title":"What is ROS 2?","description":"Introduction","source":"@site/docs/chapter-1-ros2-fundamentals/01-what-is-ros2.md","sourceDirName":"chapter-1-ros2-fundamentals","slug":"/chapter-1-ros2-fundamentals/what-is-ros2","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/what-is-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/devhammad0/physical-ai-robotics-textbook/tree/main/docs/chapter-1-ros2-fundamentals/01-what-is-ros2.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"What is ROS 2?","sidebar_position":1,"sidebar_label":"1. What is ROS 2?","chapter":1,"lesson":1,"lesson_slug":"what-is-ros2","duration_minutes":45,"estimated_difficulty":"beginner","simulation_required":[],"safety_level":"simulation_only","cefr_level":"A2","hardware_prerequisites":[],"concepts":["ROS 2 definition","Nodes as independent processes","Topics as communication channels","Publishers and subscribers","Pub/Sub pattern advantages"],"primary_layer":"Layer 1","learning_objectives":["Explain why ROS 2 exists and what problems it solves","Understand what nodes are and why they\'re independent","Describe topics as communication channels","Recognize the pub/sub pattern and its advantages","Draw a diagram of a multi-node robot system"],"assessment_type":"conceptual_exercise","keywords":["ROS 2","nodes","processes","topics","pub/sub","communication","architecture"]},"sidebar":"tutorialSidebar","previous":{"title":"Ch 1: ROS 2 Fundamentals","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/"},"next":{"title":"2. Setup Environment","permalink":"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/setup-environment"}}');var r=n(6070),t=n(8439);const o={title:"What is ROS 2?",sidebar_position:1,sidebar_label:"1. What is ROS 2?",chapter:1,lesson:1,lesson_slug:"what-is-ros2",duration_minutes:45,estimated_difficulty:"beginner",simulation_required:[],safety_level:"simulation_only",cefr_level:"A2",hardware_prerequisites:[],concepts:["ROS 2 definition","Nodes as independent processes","Topics as communication channels","Publishers and subscribers","Pub/Sub pattern advantages"],primary_layer:"Layer 1",learning_objectives:["Explain why ROS 2 exists and what problems it solves","Understand what nodes are and why they're independent","Describe topics as communication channels","Recognize the pub/sub pattern and its advantages","Draw a diagram of a multi-node robot system"],assessment_type:"conceptual_exercise",keywords:["ROS 2","nodes","processes","topics","pub/sub","communication","architecture"]},l="What is ROS 2?",d={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Why Does ROS 2 Exist?",id:"why-does-ros-2-exist",level:2},{value:"The Problem: Robot Systems Are Complex",id:"the-problem-robot-systems-are-complex",level:3},{value:"The Solution: Independent Processes",id:"the-solution-independent-processes",level:3},{value:"Nodes: Independent Processes",id:"nodes-independent-processes",level:2},{value:"What&#39;s a Node?",id:"whats-a-node",level:3},{value:"Examples of ROS 2 Nodes",id:"examples-of-ros-2-nodes",level:3},{value:"Node Names",id:"node-names",level:3},{value:"Topics: Communication Channels",id:"topics-communication-channels",level:2},{value:"The Bulletin Board Analogy",id:"the-bulletin-board-analogy",level:3},{value:"Examples of Topics",id:"examples-of-topics",level:3},{value:"Topic Naming Convention",id:"topic-naming-convention",level:3},{value:"Publishers and Subscribers: The Communication Pattern",id:"publishers-and-subscribers-the-communication-pattern",level:2},{value:"How Pub/Sub Works",id:"how-pubsub-works",level:3},{value:"Why This Is Powerful",id:"why-this-is-powerful",level:3},{value:"The Pub/Sub Pattern in Action",id:"the-pubsub-pattern-in-action",level:2},{value:"Scenario: Mobile Robot Obstacle Avoidance",id:"scenario-mobile-robot-obstacle-avoidance",level:3},{value:"System Architecture: Drawing Your First System",id:"system-architecture-drawing-your-first-system",level:2},{value:"Exercise: Imagine a Robot",id:"exercise-imagine-a-robot",level:3},{value:"Draw Your System",id:"draw-your-system",level:3},{value:"Why ROS 2 Wins",id:"why-ros-2-wins",level:2},{value:"Key Concepts Summary",id:"key-concepts-summary",level:2},{value:"Self-Assessment",id:"self-assessment",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"what-is-ros-2",children:"What is ROS 2?"})}),"\n",(0,r.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(s.p,{children:["Before writing any code, let's understand ",(0,r.jsx)(s.em,{children:"why"})," ROS 2 exists and ",(0,r.jsx)(s.em,{children:"how"})," it thinks about robot systems."]}),"\n",(0,r.jsx)(s.p,{children:"You've probably built simple programs before: a script that reads a file, does some math, writes output. One process. One thread. Simple."}),"\n",(0,r.jsxs)(s.p,{children:["But robots are ",(0,r.jsx)(s.strong,{children:"different"}),". A robot doesn't do one thing. It does ",(0,r.jsx)(s.em,{children:"many things simultaneously"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Read sensor data from a camera (continuously)"}),"\n",(0,r.jsx)(s.li,{children:"Process that data (detect obstacles)"}),"\n",(0,r.jsx)(s.li,{children:"Make a decision (turn left or right)"}),"\n",(0,r.jsx)(s.li,{children:"Send commands to motors (move the wheel)"}),"\n",(0,r.jsx)(s.li,{children:"Update a map (remember where we've been)"}),"\n",(0,r.jsxs)(s.li,{children:["All of this happening ",(0,r.jsx)(s.strong,{children:"at the same time"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:'Traditional single-process programming breaks here. You can\'t both "read camera" and "move motor" in one sequence. They need to happen independently.'}),"\n",(0,r.jsxs)(s.p,{children:["That's where ROS 2 comes in. ",(0,r.jsx)(s.strong,{children:"ROS 2 lets you build robots as a collection of small, independent processes that talk to each other."})]}),"\n",(0,r.jsxs)(s.p,{children:["In this lesson, you'll learn the fundamental architecture: ",(0,r.jsx)(s.strong,{children:"nodes"}),", ",(0,r.jsx)(s.strong,{children:"topics"}),", and the ",(0,r.jsx)(s.strong,{children:"pub/sub pattern"}),". No code yet\u2014just understanding."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"why-does-ros-2-exist",children:"Why Does ROS 2 Exist?"}),"\n",(0,r.jsx)(s.h3,{id:"the-problem-robot-systems-are-complex",children:"The Problem: Robot Systems Are Complex"}),"\n",(0,r.jsx)(s.p,{children:"Imagine a mobile robot that needs to:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Read Lidar sensor data (streaming, 30 Hz)"}),"\n",(0,r.jsx)(s.li,{children:"Process the Lidar to build a map"}),"\n",(0,r.jsx)(s.li,{children:"Detect obstacles"}),"\n",(0,r.jsx)(s.li,{children:"Plan a path"}),"\n",(0,r.jsx)(s.li,{children:"Send motion commands to wheels"}),"\n",(0,r.jsx)(s.li,{children:"Monitor battery voltage"}),"\n",(0,r.jsx)(s.li,{children:"Send status updates to a monitoring computer"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"If you try to do all this in one program:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# \u274c BAD: Everything in one process\nwhile True:\n    lidar_data = sensor.read()        # Blocks here waiting for sensor\n    map_data = process(lidar_data)    # Slow processing\n    obstacles = detect(map_data)      # More processing\n    plan = plan_path(obstacles)       # More processing\n    motors.move(plan)                 # Finally move motors\n    battery = monitor_battery()       # Check battery\n    # By the time we loop back, Lidar has 100 unread messages!\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Reading the Lidar blocks until the sensor sends data. But what if the sensor is slow? The motors wait. Processing takes 500 ms? The motors wait. Everything waits for everything else."]}),"\n",(0,r.jsx)(s.h3,{id:"the-solution-independent-processes",children:"The Solution: Independent Processes"}),"\n",(0,r.jsx)(s.p,{children:"What if instead, each task ran in its own process?"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Lidar Reader    \u2502  Continuously reads sensor (30 Hz)\n\u2502  (Process 1)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 publishes Lidar data\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Map Builder     \u2502  Processes Lidar independently\n\u2502  (Process 2)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 publishes Map\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Obstacle        \u2502  Detects obstacles independently\n\u2502  Detector        \u2502\n\u2502  (Process 3)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 publishes Obstacles\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Motion Planner  \u2502  Plans path independently\n\u2502  (Process 4)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 publishes Goal\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Motor Driver    \u2502  Moves wheels independently\n\u2502  (Process 5)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(s.p,{children:"Now:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Lidar Reader"})," runs at 30 Hz even if Map Builder is slow"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Motor Driver"})," executes commands immediately, without waiting for planning"]}),"\n",(0,r.jsx)(s.li,{children:"If one process crashes, others keep running"}),"\n",(0,r.jsx)(s.li,{children:"You can test each process independently"}),"\n",(0,r.jsx)(s.li,{children:'You can add new processes (e.g., "Battery Monitor") without changing others'}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"This is the ROS 2 model."})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"nodes-independent-processes",children:"Nodes: Independent Processes"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"A node is an independent process that does one thing well."})}),"\n",(0,r.jsx)(s.h3,{id:"whats-a-node",children:"What's a Node?"}),"\n",(0,r.jsx)(s.p,{children:"Think of a node like a person on a robot team:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Concept"}),(0,r.jsx)(s.th,{children:"Team Analogy"}),(0,r.jsx)(s.th,{children:"Robot System"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Person"})}),(0,r.jsx)(s.td,{children:"Has a job (driver, navigator, watchman)"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Node"})," has a responsibility (read sensor, plan path, move motor)"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Communication"})}),(0,r.jsx)(s.td,{children:"People talk to each other"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Nodes"})," send messages to each other"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Independence"})}),(0,r.jsx)(s.td,{children:"Each person works on their task"}),(0,r.jsxs)(s.td,{children:["Each ",(0,r.jsx)(s.strong,{children:"node"})," runs its code independently"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Specialization"})}),(0,r.jsx)(s.td,{children:"Driver focuses on driving"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"Publisher node"})," focuses on publishing data"]})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"examples-of-ros-2-nodes",children:"Examples of ROS 2 Nodes"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sensor Reader Node"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Reads data from a physical sensor (camera, Lidar)"}),"\n",(0,r.jsx)(s.li,{children:"Sends that data to other nodes"}),"\n",(0,r.jsx)(s.li,{children:"Runs continuously or on a timer"}),"\n",(0,r.jsx)(s.li,{children:"Code: ~50 lines of Python"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Image Processor Node"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Subscribes to camera images"}),"\n",(0,r.jsx)(s.li,{children:"Processes them (detect faces, find objects)"}),"\n",(0,r.jsx)(s.li,{children:"Publishes processed results"}),"\n",(0,r.jsx)(s.li,{children:"Runs whenever an image arrives"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Navigation Node"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Reads sensor data (obstacles)"}),"\n",(0,r.jsx)(s.li,{children:"Reads robot position"}),"\n",(0,r.jsx)(s.li,{children:'Publishes commands: "move forward", "turn left"'}),"\n",(0,r.jsx)(s.li,{children:"Makes decisions about where to go"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Motor Driver Node"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Reads motion commands"}),"\n",(0,r.jsx)(s.li,{children:"Sends electrical signals to motors"}),"\n",(0,r.jsx)(s.li,{children:'Reports back: "I moved 1 meter"'}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Each node is ",(0,r.jsx)(s.strong,{children:"separate, independent, and specialized"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"node-names",children:"Node Names"}),"\n",(0,r.jsx)(s.p,{children:"Every node has a unique name, like:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/camera_reader"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/obstacle_detector"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/motor_controller"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/battery_monitor"})}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"/"}),' means "this is a global name, unique across the entire robot system".']}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"topics-communication-channels",children:"Topics: Communication Channels"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"A topic is a named communication channel."})," Nodes send data to topics. Other nodes read from topics."]}),"\n",(0,r.jsx)(s.h3,{id:"the-bulletin-board-analogy",children:"The Bulletin Board Analogy"}),"\n",(0,r.jsx)(s.p,{children:"Imagine a physical bulletin board in a robot office:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   BULLETIN BOARD: "/camera  \u2502\n\u2502                             \u2502\n\u2502   [Image from camera]       \u2502\n\u2502   [Image from camera]       \u2502\n\u2502   [Image from camera]       \u2502\n\u2502                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,r.jsx)(s.p,{children:"Anyone can write to this board (post images). Anyone can read from it (take images). The writer doesn't need to know who reads. The reader doesn't need to know who writes."}),"\n",(0,r.jsx)(s.h3,{id:"examples-of-topics",children:"Examples of Topics"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"/camera/image\n  \u2192 Camera node publishes new images here every 33 ms\n  \u2192 Object detector subscribed, reads every new image\n  \u2192 Display node subscribed, shows images on screen\n\n/lidar/scan\n  \u2192 Lidar node publishes scan data every 50 ms\n  \u2192 Mapping node subscribed\n  \u2192 Obstacle detector subscribed\n  \u2192 Both read the same data independently\n\n/cmd_vel\n  \u2192 Planning node publishes motion commands\n  \u2192 Motor driver subscribed, moves wheels\n  \u2192 Autonomous override node might also read it\n\n/battery/voltage\n  \u2192 Battery monitor publishes voltage every second\n  \u2192 Safety monitor subscribed, checks if voltage too low\n  \u2192 Dashboard subscribed, displays battery level\n"})}),"\n",(0,r.jsx)(s.h3,{id:"topic-naming-convention",children:"Topic Naming Convention"}),"\n",(0,r.jsx)(s.p,{children:"Topics use hierarchical names with forward slashes:"}),"\n",(0,r.jsxs)(s.p,{children:["\u2705 ",(0,r.jsx)(s.strong,{children:"Good topic names"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/robot_arm/joint1/state"})," (clear hierarchy: robot \u2192 subsystem \u2192 specific data)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/camera/rgb/image"})," (device \u2192 sensor type \u2192 data)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/lidar/scan"})," (device \u2192 data type)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/cmd_vel"})," (command velocity\u2014standard ROS 2 name)"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["\u274c ",(0,r.jsx)(s.strong,{children:"Bad topic names"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/data"})," (too vague, what data?)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/sensor_topic_data"}),' (redundant "topic" in name)']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/LIDAR"})," (inconsistent capitalization)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/scan"})," (no hierarchy, ambiguous)"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"publishers-and-subscribers-the-communication-pattern",children:"Publishers and Subscribers: The Communication Pattern"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Publisher"}),": A node that ",(0,r.jsx)(s.em,{children:"sends"})," data to a topic.\n",(0,r.jsx)(s.strong,{children:"Subscriber"}),": A node that ",(0,r.jsx)(s.em,{children:"receives"})," data from a topic."]}),"\n",(0,r.jsx)(s.h3,{id:"how-pubsub-works",children:"How Pub/Sub Works"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'Publisher (Camera Reader Node)\n    \u2502\n    \u2502 "Here\'s a new image"\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Topic: /camera/image\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2191           \u2191\n    \u2502           \u2502\n    \u2502 reading   \u2502 reading\n    \u2502           \u2502\nSubscriber 1      Subscriber 2\n(Obstacle Detector) (Display)\n'})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Process"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Camera Reader"})," (publisher) captures an image"]}),"\n",(0,r.jsxs)(s.li,{children:["Sends it to the topic ",(0,r.jsx)(s.code,{children:"/camera/image"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Obstacle Detector"})," (subscriber) is listening to ",(0,r.jsx)(s.code,{children:"/camera/image"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Automatically receives the image"}),"\n",(0,r.jsx)(s.li,{children:"Processes it"}),"\n",(0,r.jsxs)(s.li,{children:["Publishes obstacles to ",(0,r.jsx)(s.code,{children:"/obstacles"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Display"})," (another subscriber) is also listening to ",(0,r.jsx)(s.code,{children:"/camera/image"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Receives the same image"}),"\n",(0,r.jsx)(s.li,{children:"Shows it on a screen"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Neither subscriber knows the other exists. Neither knows who publishes. They just read from the topic."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"why-this-is-powerful",children:"Why This Is Powerful"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Loose Coupling"}),": Nodes don't depend on each other directly."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'Add a new subscriber (e.g., "ML detector")? No changes needed to the publisher.'}),"\n",(0,r.jsx)(s.li,{children:"Replace the camera with a better one? No changes to subscribers."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Scalability"}),": Multiple publishers or subscribers on the same topic."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["3 different nodes want Lidar data? All subscribe to ",(0,r.jsx)(s.code,{children:"/lidar/scan"}),". The Lidar publisher doesn't care."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Flexibility"}),": Easy to test in isolation."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Want to test the obstacle detector? Create a fake camera publisher."}),"\n",(0,r.jsx)(s.li,{children:"Want to test the display? Play back recorded images."}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"the-pubsub-pattern-in-action",children:"The Pub/Sub Pattern in Action"}),"\n",(0,r.jsx)(s.p,{children:"Let me show you a concrete example with a real robot scenario."}),"\n",(0,r.jsx)(s.h3,{id:"scenario-mobile-robot-obstacle-avoidance",children:"Scenario: Mobile Robot Obstacle Avoidance"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Goal"}),": Robot moves forward, avoiding obstacles."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Nodes"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Lidar Publisher"})," \u2014 Publishes sensor scans"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Obstacle Detector"})," \u2014 Reads scans, detects obstacles"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Path Planner"})," \u2014 Reads obstacles, plans movement"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Motor Controller"})," \u2014 Reads plan, moves wheels"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Topics"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/lidar/scan"})," \u2014 Raw sensor data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/obstacles/detected"})," \u2014 Detected obstacles"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/motion/goal"})," \u2014 Target movement"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/wheels/cmd_vel"})," \u2014 Motor commands"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Timeline"})," (one cycle, ~100 ms):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"t=0 ms:\n  Lidar publishes to /lidar/scan\n\nt=5 ms:\n  Obstacle Detector reads /lidar/scan, processes it\n\nt=20 ms:\n  Obstacle Detector publishes to /obstacles/detected\n\nt=25 ms:\n  Path Planner reads /obstacles/detected, plans route\n\nt=50 ms:\n  Path Planner publishes to /motion/goal\n\nt=55 ms:\n  Motor Controller reads /motion/goal, sends signals to motors\n\nt=100 ms:\n  Lidar publishes again (repeats cycle)\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Key insight"}),": Each node processes at its own speed. Lidar doesn't wait for planning. Motors don't wait for detection. Everything happens in parallel."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"system-architecture-drawing-your-first-system",children:"System Architecture: Drawing Your First System"}),"\n",(0,r.jsx)(s.p,{children:"Let's apply this thinking to design a simple robot system."}),"\n",(0,r.jsx)(s.h3,{id:"exercise-imagine-a-robot",children:"Exercise: Imagine a Robot"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Your robot"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Has a camera"}),"\n",(0,r.jsx)(s.li,{children:"Needs to detect people"}),"\n",(0,r.jsx)(s.li,{children:"Needs to move toward detected people"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"What nodes would you need?"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Camera Publisher"})," \u2014 Reads camera, publishes images"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Person Detector"})," \u2014 Reads images, detects people, publishes person locations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Motion Planner"}),' \u2014 Reads person locations, computes "move toward person" commands']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Motor Controller"})," \u2014 Reads commands, moves motors"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"What topics?"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/camera/image"})," \u2014 Raw camera images"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/people/detected"})," \u2014 Detected person locations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/motion/commands"})," \u2014 Movement commands"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"/wheels/velocity"})," \u2014 Motor velocity targets"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"draw-your-system",children:"Draw Your System"}),"\n",(0,r.jsx)(s.p,{children:"On paper or in an image, draw:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Boxes"})," for each node (label with node name)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Arrows"})," between nodes through topics (label arrow with topic name)"]}),"\n",(0,r.jsxs)(s.li,{children:["Mark which node is ",(0,r.jsx)(s.strong,{children:"publisher"})," and which is ",(0,r.jsx)(s.strong,{children:"subscriber"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Your diagram should look like"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Camera Publisher\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 publishes /camera/image\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Person Detector    \u2502\n\u2502 (subscriber)       \u2502 publishes /people/detected\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Motion Planner     \u2502\n\u2502 (subscriber)       \u2502 publishes /motion/commands\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Motor Controller   \u2502\n\u2502 (subscriber)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"why-ros-2-wins",children:"Why ROS 2 Wins"}),"\n",(0,r.jsx)(s.p,{children:"Now you understand why ROS 2 is so popular:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Independence"}),": Nodes run independently. Fast nodes don't wait for slow ones."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Scalability"}),": Add 10 nodes? Same architecture works. Replace one node? Others don't break."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Reusability"}),": A camera reader works the same way whether it's reading from a USB camera or IP camera."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Testing"}),": Test each node independently. Create fake publishers for testing."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Team development"}),": Different people write different nodes. Interfaces (topics) stay consistent."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Debugging"}),": Each node logs its own data. Easy to trace where problems happen."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Standard"}),": ROS 2 is used in industry (robotics companies), research (universities), and open-source (lots of community code you can reuse)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"key-concepts-summary",children:"Key Concepts Summary"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Concept"}),(0,r.jsx)(s.th,{children:"What It Is"}),(0,r.jsx)(s.th,{children:"Example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Node"})}),(0,r.jsx)(s.td,{children:"Independent process doing one task"}),(0,r.jsx)(s.td,{children:"Camera reader, obstacle detector"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Topic"})}),(0,r.jsx)(s.td,{children:"Named communication channel"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"/camera/image"}),", ",(0,r.jsx)(s.code,{children:"/cmd_vel"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Publisher"})}),(0,r.jsx)(s.td,{children:"Node sending data to a topic"}),(0,r.jsx)(s.td,{children:"Camera publisher sends images"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Subscriber"})}),(0,r.jsx)(s.td,{children:"Node receiving data from a topic"}),(0,r.jsx)(s.td,{children:"Detector subscribes to images"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Message"})}),(0,r.jsx)(s.td,{children:"Data structure sent on a topic"}),(0,r.jsx)(s.td,{children:"Image data, obstacle positions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Pub/Sub Pattern"})}),(0,r.jsx)(s.td,{children:"Decoupled communication model"}),(0,r.jsx)(s.td,{children:"Publisher doesn't know subscribers"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"self-assessment",children:"Self-Assessment"}),"\n",(0,r.jsx)(s.p,{children:"Before moving to Lesson 2, make sure you can:"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Explain why robots need multiple processes (not one giant program)"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Define what a node is in your own words"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Describe a topic as a communication channel"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Explain the difference between a publisher and a subscriber"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Draw a diagram with 3 nodes communicating via topics"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Explain why loose coupling is good for robot systems"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["If you can check all boxes, you're ready for ",(0,r.jsx)(s.strong,{children:"Lesson 2: Setting Up Your Environment"}),"."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,r.jsx)(s.p,{children:"In Lesson 2, you'll move from theory to practice. You'll:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Install ROS 2 (or verify it's installed)"}),"\n",(0,r.jsx)(s.li,{children:"Launch Turtlesim (a simple 2D robot simulator)"}),"\n",(0,r.jsx)(s.li,{children:"Use command-line tools to explore running nodes and topics"}),"\n",(0,r.jsx)(s.li,{children:"See the pub/sub pattern working in a real ROS 2 system"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"/physical-ai-robotics-textbook/docs/chapter-1-ros2-fundamentals/setup-environment",children:"\u2192 Lesson 2: Setting Up Your Environment"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Concepts.html",children:"ROS 2 Conceptual Overview"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html",children:"ROS 2 Nodes and Topics Explained"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html",children:"ROS 2 Topics Deep Dive"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html",children:"ROS 2 Pub/Sub Pattern"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8439:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var i=n(758);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);