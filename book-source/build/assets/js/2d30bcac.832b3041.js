"use strict";(self.webpackChunkphysical_ai_robotics_textbook=self.webpackChunkphysical_ai_robotics_textbook||[]).push([[4689],{8105:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"chapter-4-ai-integration/lesson-7-safety","title":"Lesson 7: Safety Protocols & Deployment","description":"Learning Objectives","source":"@site/docs/03-chapter-4-ai-integration/07-lesson-7-safety.md","sourceDirName":"03-chapter-4-ai-integration","slug":"/chapter-4-ai-integration/lesson-7-safety","permalink":"/physical-ai-robotics-textbook/docs/chapter-4-ai-integration/lesson-7-safety","draft":false,"unlisted":false,"editUrl":"https://github.com/devhammad0/physical-ai-robotics-textbook/tree/main/docs/03-chapter-4-ai-integration/07-lesson-7-safety.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 6: Full-Stack Integration & Orchestration","permalink":"/physical-ai-robotics-textbook/docs/chapter-4-ai-integration/lesson-6-full-integration"},"next":{"title":"Lesson 8: Capstone Project - Your VLA System Design","permalink":"/physical-ai-robotics-textbook/docs/chapter-4-ai-integration/lesson-8-capstone"}}');var t=r(6070),i=r(8439);const o={},l="Lesson 7: Safety Protocols & Deployment",a={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Safety Philosophy",id:"safety-philosophy",level:2},{value:"Emergency Stop (E-Stop) Architecture",id:"emergency-stop-e-stop-architecture",level:2},{value:"Safety Validator Node",id:"safety-validator-node",level:3},{value:"Force Monitor Implementation",id:"force-monitor-implementation",level:2},{value:"Safety Configuration",id:"safety-configuration",level:2},{value:"Real Hardware Deployment Checklist",id:"real-hardware-deployment-checklist",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Exercise L7-1: E-Stop Implementation",id:"exercise-l7-1-e-stop-implementation",level:3},{value:"Exercise L7-2: Safety Validation",id:"exercise-l7-2-safety-validation",level:3},{value:"Regulatory Considerations",id:"regulatory-considerations",level:2},{value:"Liability Framework",id:"liability-framework",level:3},{value:"Standards",id:"standards",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"lesson-7-safety-protocols--deployment",children:"Lesson 7: Safety Protocols & Deployment"})}),"\n",(0,t.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(n.p,{children:"By the end of this lesson, you will:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Understand safety-critical system design (fail-safe defaults)"}),"\n",(0,t.jsx)(n.li,{children:"Implement emergency stop (E-stop) with <100ms response time"}),"\n",(0,t.jsx)(n.li,{children:"Enforce workspace boundaries (prevent out-of-bounds motion)"}),"\n",(0,t.jsx)(n.li,{children:"Monitor and limit gripper force to prevent injury"}),"\n",(0,t.jsx)(n.li,{children:"Validate plans against safety constraints"}),"\n",(0,t.jsx)(n.li,{children:"Understand regulatory and liability considerations"}),"\n",(0,t.jsx)(n.li,{children:"Prepare system for real robot deployment"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"safety-philosophy",children:"Safety Philosophy"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Primary Principle"}),": A robot should NEVER harm people or property."]}),"\n",(0,t.jsx)(n.p,{children:"This requires:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fail-safe defaults"})," \u2014 Default to safe state, not dangerous motion"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Redundancy"})," \u2014 Multiple independent safety mechanisms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitoring"})," \u2014 Continuous surveillance of robot state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Constraints"})," \u2014 Hard limits on force, speed, workspace"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recovery"})," \u2014 Graceful shutdown and safe idle state"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"emergency-stop-e-stop-architecture",children:"Emergency Stop (E-Stop) Architecture"}),"\n",(0,t.jsxs)(n.p,{children:["The kill switch must be ",(0,t.jsx)(n.strong,{children:"independent of normal control"}),". Can't rely on ROS 2 (too slow)."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"                    User presses E-stop button\r\n                                \u2502\r\n                                \u2193 (electrical signal)\r\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n                    \u2502  E-stop circuit       \u2502\r\n                    \u2502  (hardwired, no CPU)  \u2502\r\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                               \u2502\r\n                               \u251c\u2500\u2192 Cut power to motors (IMMEDIATE)\r\n                               \u251c\u2500\u2192 Engage mechanical brake\r\n                               \u2514\u2500\u2192 Send digital signal to ROS 2\r\n                                   (signal may arrive late, but\r\n                                    motors already stopped)\r\n\r\nResponse time:\r\n- Electrical circuit: <10ms\r\n- Motor halt: <50ms\r\n- ROS 2 notification: 50-200ms (but robot already stopped)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"safety-validator-node",children:"Safety Validator Node"}),"\n",(0,t.jsxs)(n.p,{children:["File: ",(0,t.jsx)(n.code,{children:"chapter4_safety/src/safety_validator_node.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String, Bool, Float32MultiArray\r\nimport json\r\nimport numpy as np\r\nfrom datetime import datetime\r\nfrom enum import Enum\r\n\r\nclass SafetyLevel(Enum):\r\n    SAFE = 0\r\n    WARNING = 1\r\n    CRITICAL = 2\r\n\r\nclass SafetyValidatorNode(Node):\r\n    def __init__(self):\r\n        super().__init__('safety_validator_node')\r\n\r\n        # Subscribe to robot state and planned motions\r\n        self.state_sub = self.create_subscription(\r\n            Float32MultiArray,\r\n            '/robot/state',\r\n            self.state_callback,\r\n            10\r\n        )\r\n\r\n        self.plan_sub = self.create_subscription(\r\n            String,\r\n            '/robot/task_plan',\r\n            self.plan_callback,\r\n            10\r\n        )\r\n\r\n        self.execution_sub = self.create_subscription(\r\n            String,\r\n            '/robot/execution_status',\r\n            self.execution_callback,\r\n            10\r\n        )\r\n\r\n        self.estop_sub = self.create_subscription(\r\n            Bool,\r\n            '/robot/emergency_stop',\r\n            self.estop_callback,\r\n            10\r\n        )\r\n\r\n        # Publish safety events and approvals\r\n        self.safety_event_pub = self.create_publisher(\r\n            String,\r\n            '/robot/safety_events',\r\n            10\r\n        )\r\n\r\n        self.plan_approval_pub = self.create_publisher(\r\n            Bool,\r\n            '/robot/plan_approved',\r\n            10\r\n        )\r\n\r\n        # Safety configuration\r\n        self.workspace_min = np.array([-0.5, -0.5, 0.3])\r\n        self.workspace_max = np.array([1.0, 0.5, 2.0])\r\n        self.max_gripper_force = 100.0\r\n        self.max_joint_velocity = 1.0\r\n        self.estop_enabled = True\r\n\r\n        # State tracking\r\n        self.robot_state = None\r\n        self.e_stop_active = False\r\n        self.safety_violations = []\r\n\r\n        # Timer for continuous monitoring\r\n        self.monitor_timer = self.create_timer(0.01, self.monitor_safety)  # 100 Hz\r\n\r\n        self.get_logger().info('Safety Validator Node initialized')\r\n        self.get_logger().info(f'Workspace: {self.workspace_min} to {self.workspace_max}')\r\n        self.get_logger().info(f'Max gripper force: {self.max_gripper_force}N')\r\n\r\n    def state_callback(self, msg):\r\n        \"\"\"Receive robot state update\"\"\"\r\n        try:\r\n            self.robot_state = msg.data\r\n        except Exception as e:\r\n            self.get_logger().error(f'Error parsing robot state: {e}')\r\n\r\n    def plan_callback(self, msg):\r\n        \"\"\"Validate plan before execution\"\"\"\r\n        try:\r\n            plan = json.loads(msg.data)\r\n            is_valid = self.validate_plan(plan)\r\n\r\n            # Publish approval/rejection\r\n            approval_msg = Bool()\r\n            approval_msg.data = is_valid\r\n\r\n            self.plan_approval_pub.publish(approval_msg)\r\n\r\n            if not is_valid:\r\n                event = {\r\n                    'timestamp': datetime.now().isoformat(),\r\n                    'event_type': 'PLAN_REJECTED',\r\n                    'severity': 'CRITICAL',\r\n                    'violations': self.safety_violations\r\n                }\r\n                self._publish_safety_event(event)\r\n\r\n        except json.JSONDecodeError:\r\n            self.get_logger().error('Failed to parse plan')\r\n\r\n    def execution_callback(self, msg):\r\n        \"\"\"Monitor execution for safety violations\"\"\"\r\n        try:\r\n            status = json.loads(msg.data)\r\n            # Could add real-time execution monitoring here\r\n        except json.JSONDecodeError:\r\n            pass\r\n\r\n    def estop_callback(self, msg):\r\n        \"\"\"Handle emergency stop signal\"\"\"\r\n        if msg.data:\r\n            self.get_logger().error('EMERGENCY STOP ACTIVATED!')\r\n            self.e_stop_active = True\r\n\r\n            event = {\r\n                'timestamp': datetime.now().isoformat(),\r\n                'event_type': 'EMERGENCY_STOP',\r\n                'severity': 'CRITICAL',\r\n                'description': 'E-stop button pressed - robot halted immediately'\r\n            }\r\n            self._publish_safety_event(event)\r\n\r\n    def monitor_safety(self):\r\n        \"\"\"Continuous safety monitoring (100 Hz)\"\"\"\r\n        if not self.robot_state or self.e_stop_active:\r\n            return\r\n\r\n        state = self.robot_state\r\n\r\n        # Check workspace bounds (first 3 DOF are position)\r\n        if len(state) >= 3:\r\n            position = np.array(state[:3])\r\n            in_bounds = np.all(position >= self.workspace_min) and \\\r\n                       np.all(position <= self.workspace_max)\r\n\r\n            if not in_bounds:\r\n                event = {\r\n                    'timestamp': datetime.now().isoformat(),\r\n                    'event_type': 'WORKSPACE_VIOLATION',\r\n                    'severity': 'CRITICAL',\r\n                    'position': position.tolist(),\r\n                    'bounds_min': self.workspace_min.tolist(),\r\n                    'bounds_max': self.workspace_max.tolist()\r\n                }\r\n                self._publish_safety_event(event)\r\n\r\n        # Check gripper force (assuming index 7)\r\n        if len(state) > 7:\r\n            gripper_force = state[7]\r\n            if gripper_force > self.max_gripper_force:\r\n                event = {\r\n                    'timestamp': datetime.now().isoformat(),\r\n                    'event_type': 'FORCE_LIMIT_EXCEEDED',\r\n                    'severity': 'WARNING',\r\n                    'gripper_force': float(gripper_force),\r\n                    'max_force': self.max_gripper_force\r\n                }\r\n                self._publish_safety_event(event)\r\n\r\n        # Check joint velocities (assuming indices 3-6)\r\n        if len(state) > 6:\r\n            velocities = np.array(state[3:7])\r\n            max_velocity = np.max(np.abs(velocities))\r\n            if max_velocity > self.max_joint_velocity:\r\n                # Just log, don't halt (velocity limits may be intentional)\r\n                self.get_logger().debug(f'Joint velocity {max_velocity:.2f} > limit')\r\n\r\n    def validate_plan(self, plan: dict) -> bool:\r\n        \"\"\"Check if plan violates safety constraints\"\"\"\r\n        self.safety_violations = []\r\n\r\n        try:\r\n            # Check workspace constraints\r\n            if 'subtasks' in plan:\r\n                # Would check each subtask waypoint\r\n                pass\r\n\r\n            # Check gripper force requirements\r\n            gripper_force = plan.get('gripper_force', 50.0)\r\n            if gripper_force > self.max_gripper_force:\r\n                self.safety_violations.append(\r\n                    f'Gripper force {gripper_force}N exceeds limit {self.max_gripper_force}N'\r\n                )\r\n                return False\r\n\r\n            # Check estimated duration (sanity check)\r\n            duration = plan.get('estimated_duration', 0)\r\n            if duration > 120:\r\n                self.safety_violations.append(\r\n                    f'Estimated duration {duration}s seems unreasonably long (>120s)'\r\n                )\r\n                return False\r\n\r\n            # Check for obviously unsafe descriptions\r\n            unsafe_keywords = ['fast', 'hard', 'forceful', 'aggressive']\r\n            description = plan.get('task_description', '').lower()\r\n            for keyword in unsafe_keywords:\r\n                if keyword in description:\r\n                    self.get_logger().debug(\r\n                        f'Plan contains keyword \"{keyword}\" - may need caution'\r\n                    )\r\n\r\n            return len(self.safety_violations) == 0\r\n\r\n        except Exception as e:\r\n            self.safety_violations.append(f'Validation error: {e}')\r\n            return False\r\n\r\n    def _publish_safety_event(self, event: dict):\r\n        \"\"\"Publish safety event for monitoring\"\"\"\r\n        msg = String()\r\n        msg.data = json.dumps(event)\r\n        self.safety_event_pub.publish(msg)\r\n\r\n        level = event.get('severity', 'INFO')\r\n        if level == 'CRITICAL':\r\n            self.get_logger().error(event['event_type'])\r\n        elif level == 'WARNING':\r\n            self.get_logger().warn(event['event_type'])\r\n        else:\r\n            self.get_logger().info(event['event_type'])\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    safety_validator = SafetyValidatorNode()\r\n    rclpy.spin(safety_validator)\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"force-monitor-implementation",children:"Force Monitor Implementation"}),"\n",(0,t.jsxs)(n.p,{children:["File: ",(0,t.jsx)(n.code,{children:"chapter4_safety/src/force_monitor.py"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import Float32\r\nimport numpy as np\r\nfrom datetime import datetime\r\nfrom collections import deque\r\n\r\nclass ForceMonitor(Node):\r\n    \"\"\"Monitor gripper force and detect slippage\"\"\"\r\n\r\n    def __init__(self):\r\n        super().__init__('force_monitor')\r\n\r\n        # Subscribe to gripper force\r\n        self.force_sub = self.create_subscription(\r\n            Float32,\r\n            '/robot/gripper_force',\r\n            self.force_callback,\r\n            100  # High frequency (100 Hz)\r\n        )\r\n\r\n        # Publish force violations\r\n        self.violation_pub = self.create_publisher(\r\n            Float32,\r\n            '/robot/force_violation',\r\n            10\r\n        )\r\n\r\n        self.max_force = 100.0\r\n        self.force_history = deque(maxlen=10)\r\n        self.force_spike_threshold = 20.0  # N increase over 100ms\r\n        self.violation_count = 0\r\n\r\n    def force_callback(self, msg):\r\n        \"\"\"Monitor force readings\"\"\"\r\n        current_force = msg.data\r\n        self.force_history.append(current_force)\r\n\r\n        # Check against max force\r\n        if current_force > self.max_force:\r\n            self.violation_count += 1\r\n            violation_msg = Float32()\r\n            violation_msg.data = current_force - self.max_force\r\n            self.violation_pub.publish(violation_msg)\r\n            self.get_logger().warn(f'Force limit exceeded: {current_force:.1f}N > {self.max_force}N')\r\n\r\n        # Check for sudden spikes (possible slippage)\r\n        if len(self.force_history) > 1:\r\n            force_delta = abs(current_force - self.force_history[-2])\r\n            if force_delta > self.force_spike_threshold:\r\n                self.get_logger().warn(f'Force spike detected: {force_delta:.1f}N')\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    monitor = ForceMonitor()\r\n    rclpy.spin(monitor)\r\n    rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"safety-configuration",children:"Safety Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["File: ",(0,t.jsx)(n.code,{children:"chapter4_safety/safety_config.yaml"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# Safety Configuration for Chapter 4 VLA System\r\n\r\n# Workspace boundaries (meters)\r\nworkspace:\r\n  min:\r\n    x: -0.5\r\n    y: -0.5\r\n    z: 0.3\r\n  max:\r\n    x: 1.0\r\n    y: 0.5\r\n    z: 2.0\r\n\r\n# Joint angle limits (radians)\r\njoint_limits:\r\n  joint_1: [-3.14159, 3.14159]\r\n  joint_2: [-1.5708, 1.5708]\r\n  joint_3: [-3.14159, 3.14159]\r\n  joint_4: [-1.5708, 1.5708]\r\n  joint_5: [-3.14159, 3.14159]\r\n  joint_6: [-1.5708, 1.5708]\r\n  joint_7: [-3.14159, 3.14159]\r\n\r\n# Velocity limits (rad/s)\r\nvelocity_limits:\r\n  max_joint_velocity: 1.0\r\n  max_cartesian_velocity: 0.5\r\n\r\n# Force limits (Newtons)\r\nforce_limits:\r\n  max_gripper_force: 100.0\r\n  max_joint_torque: 50.0\r\n\r\n# Emergency stop configuration\r\nemergency_stop:\r\n  enabled: true\r\n  response_time_ms: 100  # Max 100ms from button to motor halt\r\n  safe_idle_state:\r\n    joint_angles: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\r\n    gripper_open: true\r\n\r\n# Collision checking\r\ncollision_detection:\r\n  enabled: true\r\n  check_frequency_hz: 100\r\n  self_collision_check: true\r\n  environment_collision_check: true\r\n\r\n# Monitoring and logging\r\nmonitoring:\r\n  log_all_safety_events: true\r\n  safety_event_log_file: '/tmp/robot_safety.log'\r\n  max_log_file_size_mb: 100\n"})}),"\n",(0,t.jsx)(n.h2,{id:"real-hardware-deployment-checklist",children:"Real Hardware Deployment Checklist"}),"\n",(0,t.jsx)(n.p,{children:"Before deploying to real robot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-markdown",children:"## Pre-Deployment Safety Checklist\r\n\r\n### Hardware Setup\r\n- [ ] E-stop button installed and tested (verify <100ms response)\r\n- [ ] Mechanical brake engaged when power off\r\n- [ ] Emergency power switch on wall\r\n- [ ] Motion boundaries physically marked\r\n- [ ] Camera calibration verified (reprojection error <5mm)\r\n- [ ] Gripper force sensor calibrated\r\n\r\n### Software Validation\r\n- [ ] Safety validator node tested in isolation\r\n- [ ] E-stop signal tested 10+ times (must work every time)\r\n- [ ] Workspace boundary checking verified\r\n- [ ] Force limits enforced in code\r\n- [ ] All motion tested at slow speeds first (0.1x velocity)\r\n- [ ] Error recovery tested (what happens on sensor failure?)\r\n\r\n### Operational Procedures\r\n- [ ] Operator training completed\r\n- [ ] Emergency procedure drill performed\r\n- [ ] Safety review meeting held\r\n- [ ] Insurance coverage verified\r\n- [ ] Local regulations checked (robot safety standards)\r\n- [ ] Liability waiver signed (if applicable)\r\n\r\n### Real-Time Performance\r\n- [ ] Safety node latency <10ms (measured)\r\n- [ ] E-stop response <100ms (measured)\r\n- [ ] No safety-critical code running in ROS 2 (too slow)\r\n- [ ] Watchdog timer implemented (detects hung processes)\r\n- [ ] Network failure recovery tested\r\n\r\n### Liability & Regulatory\r\n- [ ] Robot classified (research, industrial, service)\r\n- [ ] Appropriate insurance obtained\r\n- [ ] Risk assessment document signed off\r\n- [ ] Testing plan documented\r\n- [ ] Incident reporting procedure established\n"})}),"\n",(0,t.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,t.jsx)(n.h3,{id:"exercise-l7-1-e-stop-implementation",children:"Exercise L7-1: E-Stop Implementation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Objective"}),": Implement and test emergency stop mechanism"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Simulate E-stop button press"}),"\n",(0,t.jsx)(n.li,{children:"Measure time from button to motor halt"}),"\n",(0,t.jsx)(n.li,{children:"Verify <100ms response time"}),"\n",(0,t.jsx)(n.li,{children:"Test that ROS 2 doesn't bypass E-stop"}),"\n",(0,t.jsx)(n.li,{children:"Verify robot enters safe idle state"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Success Criteria"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2713 E-stop response <100ms"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Robot halts immediately"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Cannot be overridden by ROS 2"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Safe idle state reached"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"exercise-l7-2-safety-validation",children:"Exercise L7-2: Safety Validation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Objective"}),": Test safety constraint enforcement"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Steps"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create 3 unsafe plans:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"One exceeding workspace bounds"}),"\n",(0,t.jsx)(n.li,{children:"One with excessive force"}),"\n",(0,t.jsx)(n.li,{children:"One with unreasonable duration"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Submit each to safety validator"}),"\n",(0,t.jsx)(n.li,{children:"Verify all are rejected"}),"\n",(0,t.jsx)(n.li,{children:"Create safe version and verify approval"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Success Criteria"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2713 All unsafe plans rejected"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Safe plan approved"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 Rejection reasons clear"}),"\n",(0,t.jsx)(n.li,{children:"\u2713 No false positives"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"regulatory-considerations",children:"Regulatory Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"liability-framework",children:"Liability Framework"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"If robot causes injury"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Who is liable? (Operator, programmer, institution, manufacturer)"}),"\n",(0,t.jsx)(n.li,{children:"What insurance covers it? (Workers comp? General liability?)"}),"\n",(0,t.jsx)(n.li,{children:"What evidence of safe practices needed? (Testing logs, checklist)"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Risk mitigation"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Insurance"}),": Get appropriate coverage before deploying"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Documentation"}),": Log all safety testing"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Training"}),": Ensure operators understand risks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitoring"}),": Video record all deployments"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Incident response"}),": Have plan for accidents"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"standards",children:"Standards"}),"\n",(0,t.jsx)(n.p,{children:"Different countries have different robot safety standards:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ISO/TS 15066"}),": Collaborative robot safety"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OSHA regulations"}),": US workplace safety"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"EU directives"}),": European machinery safety"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Local regulations"}),": Check what applies"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Safety is non-negotiable"})," \u2014 Build it in from the start"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"E-stop must be hardware"}),", not software (ROS 2 is too slow)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Redundancy"})," \u2014 Multiple independent safety checks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitoring"})," \u2014 Continuous surveillance at 100+ Hz"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Documentation"})," \u2014 Safety logs and incident reports"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Training"})," \u2014 Operators must understand risks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Insurance"})," \u2014 Legal protection critical for real robots"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.strong,{children:"Lesson 8 (Capstone)"}),", you'll bring everything together:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Design your own VLA system"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Integrate all components"})," (voice, vision, planning, manipulation, safety)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Deploy in Isaac Sim"})," with full safety"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document design decisions"})," and tradeoffs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Present your system"})," to demonstrate mastery"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This is where you become an ",(0,t.jsx)(n.strong,{children:"autonomous robotics engineer"}),"!"]}),"\n",(0,t.jsx)(n.p,{children:"See you in Lesson 8! \ud83d\ude80"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8439:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(758);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);